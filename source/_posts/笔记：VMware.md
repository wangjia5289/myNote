---
title: 笔记：VMware
date: 2025-04-15
categories:
  - 虚拟化、容器化、自动化
  - 虚拟化
tags: 
author: 霸天
layout: post
---
### 1. 三种网络模式

#### 1.1. 前言

当 VMware 软件安装完成之后，会在电脑上虚拟出三块虚拟交换机和两块虚拟网卡：

==1.虚拟交换机==
![](image-20250416081037992.png)


==2.虚拟网卡==
![](image-20250416081010029.png)

---


### 2. 桥接模式

![](image-20250416104756062.png)

---


### 3. Host-Only 模式

#### 3.1. Host-Only 模式概述

**Host-Only 模式** 主要用于构建一个与外部网络隔离的虚拟网络环境。

在该模式下，虚拟机只能与宿主机及同样处于 Host-Only 网络中的其他虚拟机通信，**但是虚拟机无法访问外网，外网也无法访问虚拟机**。  

这种模式非常适合用于搭建内网测试环境，尤其在不希望虚拟机连接互联网或被外部访问的场景中尤为实用。

---


#### 3.2. Host-Only 模式流程
1. ==主机访问虚拟机==：
	1. 请求 -> VMware Network Adapter VMnet1 网卡（192.168.62.4）-> VMnet1 虚拟交换机 ->具体虚拟机
2. ==虚拟机访问外部网络==：
	1. 🚫很抱歉，Host-Only 模式下，虚拟机是无法访问互联网的。
![](image-20250416102940107.png)

---


#### 3.3. 实现 Host-Only 模式

##### 3.3.1. 配置 Vment1 虚拟交换机

==1.点击 编辑 ->->-> 虚拟网络编译器==
![](image-20250315102345834.png)


==2.进入虚拟网络编辑器设置==
![](image-20250416103052179.png)


==3. 配置Host-Only==
![](image-20250416103438010.png)

---


##### 3.3.2. 配置 VMware Network Adapter VMent1 网卡

==1.进入 IPV4 属性配置==
![](image-20250416103242575.png)


==2.配置 IPV4 属性==
![](image-20250416103521709.png)

---

	
##### 3.3.3. 配置虚拟机 ens33

==1.为虚拟机添加 NAT 网卡（ens37）==
![](image-20250416103617846.png)


==2.配置 ens37==
![](image-20250416103933146.png)

---



















### 4. NAT 模式

#### 4.1. NAT 模式概述

在 NAT 模式下，虚拟机通过宿主机的网卡进行网络访问，实际上是通过宿主机充当一个**反向代理**。这样，外部网络能够访问虚拟机，同时虚拟机也能访问外部网络。

---

#### 4.2. NAT 模式流程

1. ==主机访问虚拟机==：
	1. 请求 -> VMware Network Adapter VMent8 网卡（192.168.62.4） -> Vment8 虚拟交换机 -> 具体虚拟机
2. ==虚拟机访问外部网络==：
	1. 请求 -> 网关（虚拟 NAT 设备，192.168.62.2）-> 主机网卡
	2. 也就是说，虚拟机的请求会先通过主机的 IP，再由主机访问外部网络，相当于主机做了个反向代理

![](image-20250416091811203.png)

---


#### 4.3. 实现 NAT

##### 4.3.1. 配置 Vment8 虚拟交换机

==1.点击 编辑 ->->-> 虚拟网络编译器==
![](image-20250315102345834.png)


==2.进入虚拟网络编辑器设置==
![](image-20250416103059206.png)


==3.进行 NAT 配置==
![](image-20250416093922129.png)


==4.配置 NAT 网关==
![](image-20250416094237485.png)

---


##### 4.3.2. 配置 VMware Network Adapter VMent8 网卡

==1.进入 IPV4 属性配置==
![](image-20250416094344342.png)


==2.配置 IPV4 属性==
![](image-20250416094700930.png)

---

	
##### 4.3.3. 配置虚拟机 ens33

==1.为虚拟机添加 NAT 网卡（ens33）==
![](image-20250416101054447.png)


==2.配置 ens33==
![](image-20250416100814721.png)

---


### 添加磁盘

![](image-20250514114944277.png)







