---
title: 笔记：分布式 ID
date: 2025-07-12
categories:
  - Java
  - 分布式与微服务
  - 分布式 ID
tags: 
author: 霸天
layout: post
---
## 导图

![](source/_posts/笔记：分布式 ID/Map：分布式 ID.xmind)

----


## 分布式 ID 概述

我们在往数据库插入数据的时候呢，每一行数据都要有对应的全局唯一标识符。

在单体应用中，自增主键非常好用，足以满足我们的需求，但是在微服务或分布式集群环境下，就会出现很多问题，所以我们需要引入分布式 ID。

分布式 ID 的作用，就是生成全局唯一、且具备高性能的 ID。

----


## UUID

### UUID 概述

UUID 的设计目标是：在全球范围内生成的 UUID 都不会重复。其基本特征为：长度固定为 128 位（二进制），通常用 32 个十六进制字符表示，如：
```
// 32 个十六进制字符 + 4 个连字符
550e8400-e29b-41d4-a716-446655440000
```

其优点很明显：
1. 可以在本地独立生成，不需要依赖数据库或网络
2. 并且跨平台、跨语言兼容性好，广泛支持，
3. 用作主键或唯一标识符时，不易被预测，安全性高，几乎不可能重复（概率极低，除非故意伪造或撞库

但是其缺点也很明显：
1. UUID 太长了，需要 128 位，需要的存储空间大，UUID 是 128 位如果你用 **字节（8位）单位表示**，是 **16 字节**；如果你用 **十六进制字符（每个占 4 位）表示**，就需要 **32 个字符**； 加上 `-` 分隔符方便阅读后，是我们常见的 **36 字符 UUID 字符串**。
2. **不具备顺序性**，插入数据库时会导致**性能下降（尤其是聚簇索引）**；
3. 可读性差，不便于人工识别或排序。

UUID 有五个主要版本：
1. UUID V1
2. UUID V2
3. UUID V3
4. UUID V4（最常用）
5. UUID V5

保持你原有格式不变的前提下，这是优化后的表达版本：

---

UUID 的设计目标是：在全球范围内生成的 UUID 都不会重复。其基本特征为：长度固定为 128 位（二进制），通常用 32 个十六进制字符表示，如：

```
// 32 个十六进制字符 + 4 个连字符
550e8400-e29b-41d4-a716-446655440000
```

其优点很明显：

1. 可以在本地独立生成，不依赖数据库或网络；
    
2. 跨平台、跨语言兼容性好，广泛支持；
    
3. 用作主键或唯一标识符时，不易被预测，安全性高，几乎不可能重复（除非刻意伪造或撞库）。
    

但是缺点也很明显：

1. UUID 太长了，占用空间大。UUID 是 128 位，如果按字节（8 位）单位表示，是 16 字节；如果用十六进制字符（每个占 4 位）表示，则为 32 个字符；再加上 `-` 分隔符后，就是常见的 36 字符 UUID 字符串；
    
2. 不具备顺序性，插入数据库时会导致性能下降（尤其是在聚簇索引场景下）；
    
3. 可读性差，不便于人工识别或排序。
    

UUID 共有五个主要版本：

1. UUID v1
    
2. UUID v2
    
3. UUID v3
    
4. UUID v4（最常用）
    
5. UUID v5


----















