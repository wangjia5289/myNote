

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/ba.jpg">
  <link rel="icon" href="/img/ba.jpg">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#373737">
  <meta name="author" content="éœ¸å¤©">
  <meta name="keywords" content="">
  
    <meta name="description" content="ä½ å†™çš„è¿™ä¸ª MinioClient çš„åˆ›å»ºæ–¹å¼ï¼Œæ•´ä½“æ€è·¯æ˜¯å¯¹çš„ï¼Œè€Œä¸”æ˜¯ä¸»æµçš„ Spring Boot é…ç½®æ–¹å¼ã€‚ä¸è¿‡è¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚å¯ä»¥å¸®ä½ ç¡®è®¤å’Œä¼˜åŒ–ï¼Œä¿è¯ä»£ç æ›´å¥å£®å’Œè§„èŒƒï¼š  endpoint æ ¼å¼   MinioClient çš„ endpoint ä¸€èˆ¬è¦æ±‚å¸¦åè®®ï¼Œæ¯”å¦‚ http:&#x2F;&#x2F;192.168.136.8:9000ï¼Œå¦åˆ™é»˜è®¤å¯èƒ½ä¼šæœ‰é—®é¢˜æˆ–è€…æŠ›å¼‚å¸¸ã€‚  ä½ å†™çš„ &quot;192.168.13">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¬”è®°ï¼šSpring IOC">
<meta property="og:url" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/index.html">
<meta property="og:site_name" content="å¤œé˜‘å§å¬é£å¹é›¨,ä¸€ææ¢¨èŠ±å‹å¿ƒå¤´">
<meta property="og:description" content="ä½ å†™çš„è¿™ä¸ª MinioClient çš„åˆ›å»ºæ–¹å¼ï¼Œæ•´ä½“æ€è·¯æ˜¯å¯¹çš„ï¼Œè€Œä¸”æ˜¯ä¸»æµçš„ Spring Boot é…ç½®æ–¹å¼ã€‚ä¸è¿‡è¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚å¯ä»¥å¸®ä½ ç¡®è®¤å’Œä¼˜åŒ–ï¼Œä¿è¯ä»£ç æ›´å¥å£®å’Œè§„èŒƒï¼š  endpoint æ ¼å¼   MinioClient çš„ endpoint ä¸€èˆ¬è¦æ±‚å¸¦åè®®ï¼Œæ¯”å¦‚ http:&#x2F;&#x2F;192.168.136.8:9000ï¼Œå¦åˆ™é»˜è®¤å¯èƒ½ä¼šæœ‰é—®é¢˜æˆ–è€…æŠ›å¼‚å¸¸ã€‚  ä½ å†™çš„ &quot;192.168.13">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250707124724752.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250704122212717.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250703215302874.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250703103102608.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250703103116668.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250701205019198.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250701205226473.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250519160241335.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250519160340948.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250519160346033.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250518162951182.png">
<meta property="og:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250518163131432.png">
<meta property="article:published_time" content="2025-03-09T16:00:00.000Z">
<meta property="article:modified_time" content="2025-07-08T09:33:29.685Z">
<meta property="article:author" content="Ba Tian">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://wangjia5289.github.io/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250707124724752.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ç¬”è®°ï¼šSpring IOC - å¤œé˜‘å§å¬é£å¹é›¨,ä¸€ææ¢¨èŠ±å‹å¿ƒå¤´</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"wangjia5289.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%85%89%E5%BD%B1%E7%BE%8E%E5%AD%A6-%E5%90%8A%E5%B8%A6%E8%A3%99.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ç¬”è®°ï¼šSpring IOC"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-03-10 00:00" pubdate>
          March 10, 2025 am
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          11k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          91 mins
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        

      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ç¬”è®°ï¼šSpring IOC</h1>
            
              <p id="updated-time" class="note note-info" style="display: none">
                
                  
                    Last updated on 2025-07-08T17:33:29+08:00
                  
                  

                
              </p>
            
            
              <div class="markdown-body">
                
                <p>ä½ å†™çš„è¿™ä¸ª MinioClient çš„åˆ›å»ºæ–¹å¼ï¼Œæ•´ä½“æ€è·¯æ˜¯å¯¹çš„ï¼Œè€Œä¸”æ˜¯ä¸»æµçš„ Spring Boot é…ç½®æ–¹å¼ã€‚ä¸è¿‡è¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚å¯ä»¥å¸®ä½ ç¡®è®¤å’Œä¼˜åŒ–ï¼Œä¿è¯ä»£ç æ›´å¥å£®å’Œè§„èŒƒï¼š</p>
<ol>
<li><strong>endpoint æ ¼å¼</strong></li>
</ol>
<ul>
<li><p>MinioClient çš„ <code>endpoint</code> ä¸€èˆ¬è¦æ±‚å¸¦åè®®ï¼Œæ¯”å¦‚ <code>http://192.168.136.8:9000</code>ï¼Œå¦åˆ™é»˜è®¤å¯èƒ½ä¼šæœ‰é—®é¢˜æˆ–è€…æŠ›å¼‚å¸¸ã€‚</p>
</li>
<li><p>ä½ å†™çš„ <code>&quot;192.168.136.8:9000&quot;</code> å¯èƒ½åœ¨æŸäº›ç‰ˆæœ¬çš„ MinioClient ä¼šæŠ¥é”™æˆ–æ— æ³•è¿æ¥ï¼Œå»ºè®®åŠ ä¸Šåè®®ã€‚</p>
</li>
</ul>
<ol start="2">
<li><strong>è¯ä¹¦å’Œå®‰å…¨æ€§</strong></li>
</ol>
<ul>
<li><p>å¦‚æœä½ çš„ Minio æ˜¯ HTTP ç›´è¿ï¼Œå½“å‰å†™æ³•æ˜¯å¯ä»¥çš„ã€‚</p>
</li>
<li><p>å¦‚æœå¯ç”¨äº† HTTPSï¼Œè¯ä¹¦æ ¡éªŒã€ä¿¡ä»»ç®¡ç†å°±è¦é¢å¤–é…ç½®ã€‚</p>
</li>
</ul>
<ol start="3">
<li><strong>å¼‚å¸¸å¤„ç†</strong></li>
</ol>
<ul>
<li>è™½ç„¶ Spring å®¹å™¨ä¼šç®¡ç†è¿™ä¸ª Beanï¼Œä½†æ„å»ºè¿‡ç¨‹ä¸­å¯èƒ½æŠ›å¼‚å¸¸ï¼Œå»ºè®®åœ¨åˆ›å»ºæ—¶æ³¨æ„æ•è·æˆ–ç¡®è®¤ç‰ˆæœ¬çš„è¡Œä¸ºã€‚</li>
</ul>
<ol start="4">
<li><strong>å¯é…ç½®åŒ–</strong></li>
</ol>
<ul>
<li>é€šå¸¸è¿™äº›é…ç½®ä¿¡æ¯ï¼ˆendpointã€ç”¨æˆ·åã€å¯†ç ï¼‰ä¼šæ”¾åœ¨ <code>application.properties</code> æˆ– <code>application.yml</code> ä¸­ï¼Œç”¨ <code>@Value</code> æˆ– <code>@ConfigurationProperties</code> æ³¨å…¥ï¼Œæ–¹ä¾¿ä¸åŒç¯å¢ƒåˆ‡æ¢ã€‚</li>
</ul>
<p>ä½ å‚è€ƒä¸‹ä¼˜åŒ–ç‰ˆç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MinioConfig</span> &#123;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;minio.endpoint&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String endpoint;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;minio.access-key&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String accessKey;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;minio.secret-key&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String secretKey;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> MinioClient <span class="hljs-title function_">minioClient</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> MinioClient.builder()<br>                .endpoint(endpoint)          <span class="hljs-comment">// å¦‚ http://192.168.136.8:9000</span><br>                .credentials(accessKey, secretKey)<br>                .build();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>application.properties</code> é‡Œé…ç½®ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">minio.endpoint</span>=http://<span class="hljs-number">192.168</span>.<span class="hljs-number">136.8</span>:<span class="hljs-number">9000</span><br><span class="hljs-attr">minio.access-key</span>=admin<br><span class="hljs-attr">minio.secret-key</span>=admin123<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·æ›´çµæ´»ï¼Œä¹Ÿæ–¹ä¾¿åç»­ç»´æŠ¤å’Œç¯å¢ƒåˆ‡æ¢ã€‚ä½ è§‰å¾—å‘¢ï¼Ÿå¦‚æœä½ æƒ³ï¼Œæˆ‘è¿˜å¯ä»¥å¸®ä½ å†™ä¸ªå¸¦é…ç½®æ–‡ä»¶è¯»å–çš„å®Œæ•´ç¤ºèŒƒã€‚</p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250707124724752.png" srcset="/img/loading.gif" lazyload></p>
<p>ä½ çš„éœ€æ±‚å¾ˆå…¸å‹ï¼Œæƒ³è‡ªå·±å†™ä¸€ä¸ªé…ç½®ç±»ï¼Œè®© <code>application.yml</code> é‡Œçš„é…ç½®èƒ½ç»‘å®šåˆ°å®ƒï¼ŒåŒæ—¶ IDEA èƒ½æ™ºèƒ½æç¤ºï¼Œä½“éªŒæ›´å¥½ã€‚è¿™ä¸ªæ˜¯ Spring Boot é‡Œé…ç½®ç»‘å®šçš„æ ‡å‡†åšæ³•ã€‚</p>
<p>æˆ‘å¸®ä½ æ¢³ç†<strong>å®Œæ•´æ­¥éª¤å’Œå…³é”®ç‚¹</strong>ï¼Œç¡®ä¿ä½ å†™çš„é…ç½®ç±»å’Œ <code>application.yml</code> é…ç½®èƒ½å®Œç¾å¯¹åº”ï¼Œè¿˜èƒ½è¢« IDEA æ™ºèƒ½è¯†åˆ«å’Œæç¤ºã€‚</p>
<hr>
<h2 id="ä¸€ã€å¦‚ä½•å†™ä¸€ä¸ªè‡ªå·±çš„é…ç½®ç±»ï¼Œå®ç°-application-yml-ç»‘å®šå’Œ-IDEA-æç¤ºï¼Ÿ"><a href="#ä¸€ã€å¦‚ä½•å†™ä¸€ä¸ªè‡ªå·±çš„é…ç½®ç±»ï¼Œå®ç°-application-yml-ç»‘å®šå’Œ-IDEA-æç¤ºï¼Ÿ" class="headerlink" title="ä¸€ã€å¦‚ä½•å†™ä¸€ä¸ªè‡ªå·±çš„é…ç½®ç±»ï¼Œå®ç° application.yml ç»‘å®šå’Œ IDEA æç¤ºï¼Ÿ"></a>ä¸€ã€å¦‚ä½•å†™ä¸€ä¸ªè‡ªå·±çš„é…ç½®ç±»ï¼Œå®ç° <code>application.yml</code> ç»‘å®šå’Œ IDEA æç¤ºï¼Ÿ</h2><h3 id="1-æ·»åŠ ä¾èµ–ï¼ˆå¦‚æœæ²¡åŠ ï¼‰"><a href="#1-æ·»åŠ ä¾èµ–ï¼ˆå¦‚æœæ²¡åŠ ï¼‰" class="headerlink" title="1. æ·»åŠ ä¾èµ–ï¼ˆå¦‚æœæ²¡åŠ ï¼‰"></a>1. æ·»åŠ ä¾èµ–ï¼ˆå¦‚æœæ²¡åŠ ï¼‰</h3><p>ä¸ºäº†æ”¯æŒé…ç½®ç±»å…ƒä¿¡æ¯ç”Ÿæˆå’Œ IDEA æç¤ºï¼Œpom.xml é‡ŒåŠ ä¸Šï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>è¿™æ˜¯å®˜æ–¹é…ç½®å…ƒä¿¡æ¯å¤„ç†å™¨ï¼ŒIDEA ä¼šè¯»å–å®ƒç”Ÿæˆçš„æç¤ºã€‚</p>
</blockquote>
<hr>
<h3 id="2-ç¼–å†™é…ç½®ç±»"><a href="#2-ç¼–å†™é…ç½®ç±»" class="headerlink" title="2. ç¼–å†™é…ç½®ç±»"></a>2. ç¼–å†™é…ç½®ç±»</h3><ul>
<li><p>ç”¨ <code>@ConfigurationProperties</code> æ³¨è§£ï¼Œå®šä¹‰ä½ è‡ªå·±çš„å‰ç¼€</p>
</li>
<li><p>æ¨èåŠ ä¸Š <code>@Component</code> æˆ–åœ¨é…ç½®ç±»ä¸­ <code>@EnableConfigurationProperties</code> æ³¨å…¥</p>
</li>
<li><p>æ¯ä¸ªå±æ€§å†™æˆæ ‡å‡†çš„ Java Bean é£æ ¼ï¼ˆget&#x2F;setï¼‰</p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.config;<br><br><span class="hljs-keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-meta">@Component</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;myapp.oauth&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyOAuthProperties</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String clientId;<br>    <span class="hljs-keyword">private</span> String clientSecret;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getClientId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> clientId;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setClientId</span><span class="hljs-params">(String clientId)</span> &#123;<br>        <span class="hljs-built_in">this</span>.clientId = clientId;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getClientSecret</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> clientSecret;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setClientSecret</span><span class="hljs-params">(String clientSecret)</span> &#123;<br>        <span class="hljs-built_in">this</span>.clientSecret = clientSecret;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="3-åœ¨-application-yml-ä¸­å†™é…ç½®"><a href="#3-åœ¨-application-yml-ä¸­å†™é…ç½®" class="headerlink" title="3. åœ¨ application.yml ä¸­å†™é…ç½®"></a>3. åœ¨ <code>application.yml</code> ä¸­å†™é…ç½®</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">myapp:</span><br>  <span class="hljs-attr">oauth:</span><br>    <span class="hljs-attr">clientId:</span> <span class="hljs-string">abc123</span><br>    <span class="hljs-attr">clientSecret:</span> <span class="hljs-string">secret456</span><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="4-IDEA-ä¸­æ™ºèƒ½æç¤ºç”Ÿæ•ˆå…³é”®ç‚¹"><a href="#4-IDEA-ä¸­æ™ºèƒ½æç¤ºç”Ÿæ•ˆå…³é”®ç‚¹" class="headerlink" title="4. IDEA ä¸­æ™ºèƒ½æç¤ºç”Ÿæ•ˆå…³é”®ç‚¹"></a>4. IDEA ä¸­æ™ºèƒ½æç¤ºç”Ÿæ•ˆå…³é”®ç‚¹</h3><ul>
<li><p><strong>ç¡®ä¿å·²å¼•å…¥ spring-boot-configuration-processor ä¾èµ–</strong>ï¼Œå¹¶ä¸”å·²ç»æ„å»ºè¿‡é¡¹ç›®ï¼ŒIDEA ä¼šæ ¹æ®ç”Ÿæˆçš„ <code>META-INF/spring-configuration-metadata.json</code> è¯†åˆ«é…ç½®ã€‚</p>
</li>
<li><p>IDEA ä¸€èˆ¬ä¼šåœ¨ä½ å†™é…ç½®æ–‡ä»¶æ—¶æ ¹æ®è¯¥ JSON ç»™å‡ºæç¤ºï¼ŒåŒ…æ‹¬è‡ªåŠ¨è¡¥å…¨å’Œæ ¡éªŒã€‚</p>
</li>
</ul>
<hr>
<h3 id="5-å¦‚æœæ²¡æœ‰è‡ªåŠ¨æç¤ºï¼Œå¯ä»¥å°è¯•ï¼š"><a href="#5-å¦‚æœæ²¡æœ‰è‡ªåŠ¨æç¤ºï¼Œå¯ä»¥å°è¯•ï¼š" class="headerlink" title="5. å¦‚æœæ²¡æœ‰è‡ªåŠ¨æç¤ºï¼Œå¯ä»¥å°è¯•ï¼š"></a>5. å¦‚æœæ²¡æœ‰è‡ªåŠ¨æç¤ºï¼Œå¯ä»¥å°è¯•ï¼š</h3><ul>
<li><p>é‡æ–°æ„å»ºé¡¹ç›®ï¼ˆBuild -&gt; Rebuild Projectï¼‰</p>
</li>
<li><p>å…³é—­å†æ‰“å¼€ <code>application.yml</code> æ–‡ä»¶</p>
</li>
<li><p>æ¸…ç†å¹¶é‡å¯ IDEA ç¼“å­˜ï¼ˆFile -&gt; Invalidate Caches &#x2F; Restartï¼‰</p>
</li>
</ul>
<hr>
<h2 id="äºŒã€æ€»ç»“"><a href="#äºŒã€æ€»ç»“" class="headerlink" title="äºŒã€æ€»ç»“"></a>äºŒã€æ€»ç»“</h2><table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>å…³é”®ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>ä¾èµ–</td>
<td>æ·»åŠ  <code>spring-boot-configuration-processor</code></td>
</tr>
<tr>
<td>é…ç½®ç±»</td>
<td>ç”¨ <code>@ConfigurationProperties(prefix = &quot;...&quot;)</code> æ ‡æ³¨ï¼Œä¸”å†™æ ‡å‡† Java Bean ç»“æ„</td>
</tr>
<tr>
<td>Bean æ³¨å†Œ</td>
<td>ç”¨ <code>@Component</code> æˆ–åœ¨é…ç½®ç±»&#x2F;å¯åŠ¨ç±»ç”¨ <code>@EnableConfigurationProperties</code> å¯ç”¨</td>
</tr>
<tr>
<td>é…ç½®æ–‡ä»¶</td>
<td>å†™ç¬¦åˆå‰ç¼€è§„èŒƒçš„ YAML&#x2F;Properties é…ç½®é¡¹</td>
</tr>
<tr>
<td>IDEA æ”¯æŒ</td>
<td>æ­£ç¡®ä¾èµ–å¼•å…¥å’Œé¡¹ç›®æ„å»ºåï¼ŒIDEA è‡ªåŠ¨æç¤ºé…ç½®é¡¹</td>
</tr>
</tbody></table>
<hr>
<p>å¦‚æœä½ éœ€è¦ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¸®ä½ å†™ä¸€ä¸ªç¤ºä¾‹çš„å®Œæ•´é¡¹ç›®ç»“æ„ï¼Œæˆ–è€…å¸®ä½ æ£€æŸ¥ä½ å†™çš„é…ç½®ç±»å“ªé‡Œæ²¡å¯¹ä¸Šå¯¼è‡´ä¸æç¤ºã€‚ä½ æƒ³è¦å—ï¼Ÿ</p>
<p>æƒ³è¦å­¦ä¸€ä¸‹è¿™ä¸ª OAuth2 Client çš„é…ç½®å°±å¾ˆåˆé€‚ï¼Œä¸æ˜¯ç›´æ¥æ³¨å…¥åˆ°æœ€åçš„ï¼Œè€Œæ˜¯æœ‰ä¸ªä¸­ä»‹</p>
<h2 id="ğŸ§­-æ•´ä¸ªæµç¨‹æ˜¯è¿™æ ·çš„ï¼š"><a href="#ğŸ§­-æ•´ä¸ªæµç¨‹æ˜¯è¿™æ ·çš„ï¼š" class="headerlink" title="ğŸ§­ æ•´ä¸ªæµç¨‹æ˜¯è¿™æ ·çš„ï¼š"></a>ğŸ§­ æ•´ä¸ªæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</h2><ol>
<li><p>âœ… Spring Boot å¯åŠ¨æ—¶ï¼Œè¯»å– <code>application.yml</code></p>
</li>
<li><p>âœ… æŠŠ <code>spring.security.oauth2.client.*</code> é…ç½®ç»‘å®šåˆ° <code>OAuth2ClientProperties</code></p>
</li>
<li><p>âœ… Spring Boot çš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆæ¯”å¦‚ <code>OAuth2ClientRegistrationRepositoryConfiguration</code>ï¼‰è°ƒç”¨ <code>OAuth2ClientProperties#getRegistration()</code></p>
</li>
<li><p>âœ… éå†ä½ é…ç½®çš„æ¯ä¸ªå®¢æˆ·ç«¯ï¼ˆå¦‚ giteeï¼‰</p>
</li>
<li><p>âœ… ä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯è°ƒç”¨ <code>ClientRegistration.Builder</code> æ„å»º <code>ClientRegistration</code> å®ä¾‹</p>
</li>
</ol>
<p>æœ€ç»ˆ Spring Security å°±æ‹¿ç€è¿™ä¸ª <code>ClientRegistration</code> å¯¹è±¡ï¼Œå»åš OAuth2 çš„å‘èµ·ã€é‡å®šå‘ã€Token è·å–ã€ç”¨æˆ·ä¿¡æ¯è¯·æ±‚ç­‰ã€‚</p>
<p>è¿™æ˜¯ä¸ªéå¸¸æ ¸å¿ƒåˆå®¹æ˜“å¿½ç•¥çš„é—®é¢˜ã€‚Spring Boot çš„â€œé…ç½®â€å…¶å®ä¸æ˜¯ç›´æ¥é…ç½®åˆ°æŸä¸ªç±»ä¸Šï¼Œè€Œæ˜¯<strong>é€šè¿‡è‡ªåŠ¨è£…é…æœºåˆ¶ï¼ŒæŠŠé…ç½®å€¼ç»‘å®šåˆ°ç›¸å…³çš„ Bean æˆ–é…ç½®ç±»ä¸­å»</strong>ã€‚ä½ å¯ä»¥ä»è¿™å‡ ä¸ªæ–¹é¢ç†è§£ï¼š</p>
<hr>
<h3 id="ä¸€ã€é…ç½®çš„æ¥æº"><a href="#ä¸€ã€é…ç½®çš„æ¥æº" class="headerlink" title="ä¸€ã€é…ç½®çš„æ¥æº"></a>ä¸€ã€é…ç½®çš„æ¥æº</h3><p>Spring Boot æ”¯æŒå¤šç§é…ç½®æ¥æºï¼Œæœ€å¸¸è§çš„æ˜¯ï¼š</p>
<ul>
<li><p><code>application.properties</code> æˆ– <code>application.yml</code></p>
</li>
<li><p>å‘½ä»¤è¡Œå‚æ•°ã€ç¯å¢ƒå˜é‡ã€<code>@Value</code> æ³¨è§£</p>
</li>
<li><p>å¤–éƒ¨é…ç½®æœåŠ¡ï¼ˆå¦‚ Nacosã€Consulï¼‰</p>
</li>
</ul>
<p>è¿™äº›é…ç½®æœ¬èº«åªæ˜¯<strong>é”®å€¼å¯¹</strong>ï¼Œä½†å®ƒä»¬æœ€ç»ˆéƒ½ä¼šé€šè¿‡ <strong>ç»‘å®š</strong> æˆ– <strong>æ¡ä»¶è£…é…</strong> çš„æ–¹å¼ä½œç”¨äº Spring å®¹å™¨ä¸­çš„æŸäº› Beanã€‚</p>
<hr>
<h3 id="äºŒã€é…ç½®å»åˆ°äº†å“ªé‡Œï¼Ÿ"><a href="#äºŒã€é…ç½®å»åˆ°äº†å“ªé‡Œï¼Ÿ" class="headerlink" title="äºŒã€é…ç½®å»åˆ°äº†å“ªé‡Œï¼Ÿ"></a>äºŒã€é…ç½®å»åˆ°äº†å“ªé‡Œï¼Ÿ</h3><ol>
<li><strong>ç»‘å®šåˆ°é…ç½®ç±»ï¼ˆ<code>@ConfigurationProperties</code>ï¼‰</strong></li>
</ol>
<p>Spring Boot å†…ç½®äº†å¤§é‡çš„é…ç½®ç±»ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><p><code>org.springframework.boot.autoconfigure.web.ServerProperties</code><br>  â†’ ç”¨æ¥è¯»å– <code>server.port</code>ã€<code>server.servlet.context-path</code> ç­‰</p>
</li>
<li><p><code>org.springframework.boot.autoconfigure.jdbc.DataSourceProperties</code><br>  â†’ è¯»å– <code>spring.datasource.url</code>ã€<code>spring.datasource.username</code></p>
</li>
</ul>
<p>Spring Boot å¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰«æè¿™äº›å¸¦æœ‰ <code>@ConfigurationProperties</code> çš„ç±»ï¼ŒæŠŠé…ç½®æ–‡ä»¶ä¸­çš„å€¼æ³¨å…¥è¿›å»ã€‚</p>
<ol start="2">
<li><strong>ä½œç”¨äºè‡ªåŠ¨é…ç½®ç±»ï¼ˆ<code>@EnableAutoConfiguration</code>ï¼‰</strong></li>
</ol>
<p>Spring Boot çš„æ ¸å¿ƒæœºåˆ¶æ˜¯â€œè‡ªåŠ¨é…ç½®â€ï¼Œå³ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(DemoApplication.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ³¨è§£èƒŒåå…¶å®æ˜¯ <code>@EnableAutoConfiguration</code>ï¼Œå®ƒä¼šåŠ è½½ <code>META-INF/spring.factories</code>ï¼ˆæˆ– Boot 3.x ç”¨ <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>ï¼‰ä¸­å£°æ˜çš„è‡ªåŠ¨é…ç½®ç±»ã€‚</p>
<p>æ¯”å¦‚ä½ é…ç½®äº†ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring.mvc.view.prefix:</span> <span class="hljs-string">/WEB-INF/views/</span><br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªå€¼ä¼šç»‘å®šåˆ° <code>WebMvcProperties</code> ä¸­ï¼Œå†è¢« <code>WebMvcAutoConfiguration</code> ä½¿ç”¨ï¼Œæ¥è®¾ç½®è§†å›¾è§£æå™¨ã€‚</p>
<ol start="3">
<li><strong>é…ç½®æ³¨å…¥åˆ° Bean ä¸­ï¼ˆ<code>@Value</code>ï¼‰</strong></li>
</ol>
<p>å¦‚æœä½ å†™äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Value(&quot;$&#123;my.custom.name&#125;&quot;)</span><br><span class="hljs-keyword">private</span> String name;<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ˜¯æœ€ç›´æ¥çš„ï¼ŒSpring ä¼šåœ¨å®¹å™¨åˆå§‹åŒ–æ—¶ï¼Œè‡ªåŠ¨æŠŠé…ç½®æ–‡ä»¶é‡Œçš„å€¼æ³¨å…¥è¿›å»ã€‚</p>
<hr>
<h3 id="ä¸‰ã€æ€»ç»“æ€§ä¸€å¥è¯"><a href="#ä¸‰ã€æ€»ç»“æ€§ä¸€å¥è¯" class="headerlink" title="ä¸‰ã€æ€»ç»“æ€§ä¸€å¥è¯"></a>ä¸‰ã€æ€»ç»“æ€§ä¸€å¥è¯</h3><blockquote>
<p>Spring Boot é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œ<strong>ä¸æ˜¯é…ç½®åˆ°æŸä¸€ä¸ªç±»ä¸Š</strong>ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li><p><strong>ç»‘å®šåˆ°é…ç½®ç±»ï¼ˆ<code>@ConfigurationProperties</code>ï¼‰</strong>ï¼›</p>
</li>
<li><p><strong>å½±å“è‡ªåŠ¨é…ç½®ç±»çš„è£…é…è¡Œä¸º</strong>ï¼›</p>
</li>
<li><p><strong>å¯é€šè¿‡ <code>@Value</code> æ³¨å…¥åˆ° Bean ä¸­</strong>ï¼›</p>
</li>
<li><p><strong>æœ€ç»ˆå†³å®š Bean çš„å±æ€§å€¼ã€æ˜¯å¦åŠ è½½æŸä¸ª Bean ç­‰è¡Œä¸º</strong>ã€‚</p>
</li>
</ul>
</blockquote>
<hr>
<h3 id="å¦‚æœä½ æƒ³â€œçœ‹è§â€è¿™äº›é…ç½®æ˜¯å»å“ªäº†ï¼Ÿ"><a href="#å¦‚æœä½ æƒ³â€œçœ‹è§â€è¿™äº›é…ç½®æ˜¯å»å“ªäº†ï¼Ÿ" class="headerlink" title="å¦‚æœä½ æƒ³â€œçœ‹è§â€è¿™äº›é…ç½®æ˜¯å»å“ªäº†ï¼Ÿ"></a>å¦‚æœä½ æƒ³â€œçœ‹è§â€è¿™äº›é…ç½®æ˜¯å»å“ªäº†ï¼Ÿ</h3><p>ä½ å¯ä»¥ï¼š</p>
<h4 id="âœ…-å¼€å¯é…ç½®å…ƒä¿¡æ¯å…ƒæ•°æ®æ”¯æŒ"><a href="#âœ…-å¼€å¯é…ç½®å…ƒä¿¡æ¯å…ƒæ•°æ®æ”¯æŒ" class="headerlink" title="âœ… å¼€å¯é…ç½®å…ƒä¿¡æ¯å…ƒæ•°æ®æ”¯æŒ"></a>âœ… å¼€å¯é…ç½®å…ƒä¿¡æ¯å…ƒæ•°æ®æ”¯æŒ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>ç„¶åå»çœ‹ IDE ä¸­æç¤ºå‡ºæ¥çš„ <code>@ConfigurationProperties</code> ç±»éƒ½æœ‰å“ªäº›å­—æ®µæ”¯æŒé…ç½®ã€‚</p>
<h4 id="âœ…-æ‰“å¼€è°ƒè¯•æ—¥å¿—"><a href="#âœ…-æ‰“å¼€è°ƒè¯•æ—¥å¿—" class="headerlink" title="âœ… æ‰“å¼€è°ƒè¯•æ—¥å¿—"></a>âœ… æ‰“å¼€è°ƒè¯•æ—¥å¿—</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">logging.level.org.springframework.boot.autoconfigure</span>=<span class="hljs-string">DEBUG</span><br></code></pre></td></tr></table></figure>

<p>ä½ ä¼šçœ‹åˆ°å“ªäº›è‡ªåŠ¨é…ç½®ç±»è¢«åŠ è½½äº†ã€å“ªäº›æ¡ä»¶æ²¡æ»¡è¶³æ²¡åŠ è½½ã€‚</p>
<hr>
<p>å¦‚ä½ éœ€è¦ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¸®ä½ æ‰¾å‡ ä¸ªå…¸å‹é…ç½®ï¼Œçœ‹å®ƒä»¬æ˜¯æ€ä¹ˆç»‘å®šåˆ° Spring Bean çš„ã€‚è¦ä¸è¦ï¼Ÿ</p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250704122212717.png" srcset="/img/loading.gif" lazyload></p>
<p>ä¸èƒ½è¿™æ ·åšï¼Œä¼šæŠ¥é”™ï¼Œè¦æƒ³åœ¨æœ¬æ–¹æ³•ç”¨ï¼Œåªèƒ½ csrfTokenRepository()</p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250703215302874.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="ä¸¤ç§æ³¨å†Œæ–¹å¼å•Š"><a href="#ä¸¤ç§æ³¨å†Œæ–¹å¼å•Š" class="headerlink" title="ä¸¤ç§æ³¨å†Œæ–¹å¼å•Š"></a>ä¸¤ç§æ³¨å†Œæ–¹å¼å•Š</h2><p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250703103102608.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250703103116668.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>[!NOTE] æ³¨æ„äº‹é¡¹</p>
<ol>
<li>å¦‚æœæˆ‘ä»¬æ˜¯ä½¿ç”¨ <code>AuthenticationManager</code> è¿›è¡Œè®¤è¯ï¼Œå®ƒä¼šè‡ªåŠ¨å°†ç”¨æˆ·å‘é€æ¥çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¸æˆ‘ä»¬çš„ <code>CustomerUserDetailsImpl</code> ä¸­è¿”å›çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œæ¯”å¯¹ï¼Œè¿™æ˜¯æˆ‘ä»¬å·²çŸ¥çš„é€»è¾‘ã€‚é‚£ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼šå®ƒåœ¨æ¯”å¯¹å‰ï¼Œè‚¯å®šéœ€è¦å…ˆç”¨å¯†ç åŠ å¯†å™¨å¯¹ç”¨æˆ·å‘é€æ¥çš„æ˜æ–‡å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå†æ¯”å¯¹å§ï¼Ÿå¯æˆ‘å¹¶æ²¡æœ‰åšä»»ä½•ç›¸å…³é…ç½®ï¼Œ<code>AuthenticationManager</code> æ€ä¹ˆçŸ¥é“è¯¥ä½¿ç”¨å“ªä¸ªåŠ å¯†å™¨ï¼Ÿ</li>
<li>å…¶å®ï¼Œåªè¦ä½ æ³¨å†Œäº†ä¸€ä¸ªç±»å‹ä¸º <code>PasswordEncoder</code> çš„ æ¥å£ Beanï¼Œè¿™ä¸ª æ¥å£ Bean æœ‰ä¸€ä¸ªå…·ä½“å®ç°ï¼Œ<code>AuthenticationManager</code> å°±ä¼šçŸ¥é“ä½¿ç”¨è¿™ä¸ª <code>PasswordEncoder</code> Bean ä¸å…¶å…·ä½“å®ç°ï¼Œå¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œ<strong>æ— éœ€æˆ‘ä»¬æ‰‹åŠ¨é…ç½®</strong>ã€‚</li>
<li>åŒæ ·çš„ï¼Œåªè¦ä½ æ³¨å†Œäº†ä¸€ä¸ªç±»å‹ä¸º <code>UserDetailsService</code> çš„ Beanï¼ˆæ¥å£ Beanï¼‰ï¼Œè¿™ä¸ª æ¥å£ Bean æœ‰ä¸€ä¸ªå…·ä½“çš„å®ç°ï¼Œ<code>AuthenticationManager</code> å°±ä¼šçŸ¥é“ä½¿ç”¨è¿™ä¸ª <code>UserDetailsService</code> Bean ä¸å…¶å…·ä½“å®ç°ï¼Œå»è·å– <code>CustomerUserDetailsImpl</code> <strong>æ— éœ€æˆ‘ä»¬æ‰‹åŠ¨é…ç½®</strong>ã€‚</li>
<li>ä¸Šè¿°ï¼Œåªé™äºæ¥å£ Bean åªæœ‰ä¸€ä¸ªå…·ä½“å®ç°ï¼Œå¦‚æœæœ‰å¤šä¸ªå…·ä½“å®ç°ï¼Œé‚£å°±è¦æˆ‘ä»¬è¿›è¡Œé…ç½®äº†ï¼Œå› ä¸º Spring Security è™½ç„¶çŸ¥é“ç”¨è¿™ä¸ª Beanï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“ä½¿ç”¨å“ªä¸€ä¸ªå…·ä½“å®ç°</li>
</ol>
</blockquote>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs markdown">/**<br><span class="hljs-bullet"> *</span> ============================================<br><span class="hljs-bullet"> *</span> Spring IoC å£°æ˜ Bean çš„å¸¸ç”¨æ–¹å¼ 1<br><span class="hljs-bullet"> *</span> --------------------------------------------<br><span class="hljs-bullet"> *</span> æ¦‚å¿µï¼š<br><span class="hljs-bullet"> *</span> - åŒæ—¶æ³¨å†Œäº† UserDetailsService æ¥å£ç±»å‹çš„ Bean å’Œ CustomerUserDetailsImplService å®ç°ç±»ç±»å‹çš„ Bean<br><span class="hljs-bullet"> *</span> - CustomerUserDetailsImplService æ˜¯è¯¥æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°ç±»ï¼ŒIoC å®¹å™¨ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªè¿™æ ·çš„å®ç°ç±» Bean<br><span class="hljs-bullet"> *</span> - æˆ‘ä»¬æ—¢å¯ä»¥æ³¨å…¥ CustomerUserDetailsImplService ç±» Beanï¼Œä¹Ÿå¯ä»¥æ³¨å…¥ UserDetailsService æ¥å£ Bean<br><span class="hljs-bullet"> *</span> - å¦‚æœæ³¨å…¥çš„æ˜¯ UserDetailsServiceï¼Œä¸”åªæœ‰ä¸€ä¸ªå®ç°ç±»ï¼Œé‚£ä¹ˆè°ƒç”¨æ¥å£æ–¹æ³•æ—¶ï¼Œå®é™…å°±æ˜¯è°ƒç”¨è¯¥å®ç°ç±»çš„æ–¹æ³•<br><span class="hljs-bullet"> *</span> - å¦‚æœå­˜åœ¨å¤šä¸ªå®ç°ç±»ï¼Œåˆ™éœ€è¦é€šè¿‡é…ç½®æ˜ç¡®æŒ‡å®šä½¿ç”¨å“ªä¸ªå®ç°ç±»<br><span class="hljs-bullet"> *</span> - ç®€è€Œè¨€ä¹‹ï¼Œæ­¤æ–¹å¼æ”¯æŒä¸€ä¸ªæ¥å£ Bean æœ‰å¤šä¸ªå®ç°ç±» Beanï¼Œåˆ‡æ¢å®ç°æ—¶åªéœ€è°ƒæ•´é…ç½®ï¼ŒæŒ‡å®šä½¿ç”¨å“ªä¸€ä¸ªå®ç°å³å¯<br><span class="hljs-bullet"> *</span> ============================================<br> <span class="hljs-emphasis">*/</span><br><span class="hljs-emphasis">@Service</span><br><span class="hljs-emphasis">public class CustomerUserDetailsImplService implements UserDetailsService &#123;</span><br><span class="hljs-emphasis">	......</span><br><span class="hljs-emphasis">&#125;</span><br><span class="hljs-emphasis"></span><br><span class="hljs-emphasis"></span><br><span class="hljs-emphasis">/*</span>*<br><span class="hljs-bullet"> *</span> ============================================<br><span class="hljs-bullet"> *</span> Spring IoC å£°æ˜ Bean çš„å¸¸ç”¨æ–¹å¼ 2<br><span class="hljs-bullet"> *</span> --------------------------------------------<br><span class="hljs-bullet"> *</span> æ¦‚å¿µï¼š<br><span class="hljs-bullet"> *</span> - ä»…æ³¨å†Œäº† UserDetailsService ç±»å‹çš„ Beanï¼Œè¿”å›çš„ CustomerUserDetailsImplService å®ä¾‹æ˜¯å…¶å…·ä½“å®ç°ç±»<br><span class="hljs-bullet"> *</span> - æ­¤æ–¹å¼ä¸‹ï¼Œä¸€ä¸ªæ¥å£ Bean åªèƒ½ç»‘å®šä¸€ä¸ªå®ç°ç±»ï¼Œè‹¥è¦æ›´æ¢å®ç°ï¼Œéœ€åœ¨æ­¤æ–¹æ³•ä¸­ç›´æ¥ä¿®æ”¹è¿”å›çš„å®ä¾‹ã€‚<br><span class="hljs-bullet"> *</span> ============================================<br> <span class="hljs-emphasis">*/</span><br><span class="hljs-emphasis">@Bean</span><br><span class="hljs-emphasis">public UserDetailsService userDetailsService() &#123;</span><br><span class="hljs-emphasis">    return new CustomerUserDetailsImplService();</span><br><span class="hljs-emphasis">&#125;</span><br></code></pre></td></tr></table></figure>


<hr>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250701205019198.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250701205226473.png" srcset="/img/loading.gif" lazyload></p>
<p>å…¶å®è¿™å°±æ˜¯ Spring IOC çš„æ ¸å¿ƒæ€æƒ³äº†ï¼Œå¯¹å§ï¼Œä½ çš„æ¥å£è¿™äº›æ–¹æ³•éƒ½å·²ç»åˆ¶å®šå¥½äº†</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-keyword">public</span> interface PasswordEncoder &#123;  <br>    <span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">encode</span><span class="hljs-params">(CharSequence rawPassword)</span></span>;  <br>  <br>    <span class="hljs-function"><span class="hljs-type">boolean</span> <span class="hljs-title">matches</span><span class="hljs-params">(CharSequence rawPassword, <span class="hljs-type">String</span> encodedPassword)</span></span>;  <br>  <br>    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-type">boolean</span> <span class="hljs-title">upgradeEncoding</span><span class="hljs-params">(<span class="hljs-type">String</span> encodedPassword)</span> </span>&#123;  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>
<p>ç„¶åè¿™äº›å®ç°ï¼Œéƒ½ä¼šå»å®ç°ä½ è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬å°†æ¥å£ç›´æ¥å£°æ˜ä¸º Beanï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å®ç°ç±»è¿›è¡Œè¿”å›ï¼Œå…¶å®è¿™ä¸ªæ¥å£å‘¢ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå®ç°ç±»å®ç°çš„æ–¹æ³•ï¼Œä»¥åå¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹å®ç°ç±»ï¼Œåªéœ€è¦ä¿®æ”¹ä»¥ä¸‹è¿™ä¸ªreturn new BCY åˆ°å…¶ä»–çš„ï¼Œç„¶åå‘¢ï¼Œå…¶ä»–çš„ä»£ç éƒ½ä¸ç”¨å˜äº†ï¼Œå¦‚æœä½ æ˜¯ç›´æ¥ Bean BCYï¼Œé‚£ä½ å¦‚æœä»¥ååƒç”¨ä¸€ä¸ªå…¶ä»–çš„ï¼Œé‚£ä½ è¿˜å¾—æŠŠæ‰€æœ‰çš„BCY æ‰¾å‡ºæ¥ï¼Œä¸€ä¸€æ›¿æ¢</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@Configuration</span><br><span class="hljs-variable">@EnableWebSecurity</span> <br>public class SecurityConfig &#123;<br>    <span class="hljs-variable">@Bean</span> <br>    public PasswordEncoder <span class="hljs-built_in">passwordEncoder</span>() &#123;<br>        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">BCryptPasswordEncoder</span>(); <span class="hljs-comment">// è¿”å›åˆé€‚çš„å®ç°ç±»</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-meta">@Controller</span>  <br><span class="hljs-meta">@RequestMapping(<span class="hljs-string">&quot;/security&quot;</span>)</span>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PasswordController</span> &#123;  <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PasswordEncoder passwordEncoder;  <br>  <br>    <span class="hljs-meta">@Autowired</span>  <br>    <span class="hljs-keyword">public</span> PasswordController(PasswordEncoder passwordEncoder) &#123;  <br>        <span class="hljs-keyword">this</span>.passwordEncoder = passwordEncoder;  <br>    &#125;  <br>      <br>    <span class="hljs-comment">// é€šè¿‡æ–¹æ³•å¤„ç†å¯†ç åŠ å¯†  </span><br>    <span class="hljs-meta">@RequestMapping(<span class="hljs-string">&quot;/encode-password&quot;</span>)</span>  <br>    <span class="hljs-meta">@ResponseBody</span>  <br>    <span class="hljs-keyword">public</span> String encodePassword() &#123;  <br>        String password = <span class="hljs-string">&quot;myPasswordxxxxxxx&quot;</span>;  <br>        <span class="hljs-comment">// åœ¨æ–¹æ³•å†…è°ƒç”¨ passwordEncoder è¿›è¡Œå¯†ç åŠ å¯†  </span><br>        String encodedPassword = passwordEncoder.encode(password);  <br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Encoded Password: &quot;</span> + encodedPassword;  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>


<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250519160241335.png" srcset="/img/loading.gif" lazyload></p>
<p>Spring å¯ä»¥é€šè¿‡å­—æ®µæ³¨å…¥ï¼ˆåå°„ï¼‰æ³¨å…¥ä¾èµ–ï¼Œä½†è¿™ç§æ–¹å¼<strong>ä¸èƒ½ç”¨åœ¨finalå­—æ®µä¸Š</strong>ï¼Œå› ä¸ºfinalå­—æ®µä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½å†æ”¹ã€‚Spring åå°„æ³¨å…¥æ—¶ï¼ŒJavaç¼–è¯‘å™¨æ²¡æ³•ç¡®å®šè¿™ä¸ªfinalå­—æ®µè¢«åˆå§‹åŒ–è¿‡ï¼Œç¼–è¯‘æœŸå°±æŠ¥é”™ã€‚<br><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250519160340948.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250519160346033.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="ä¸€ã€ç†è®º"><a href="#ä¸€ã€ç†è®º" class="headerlink" title="ä¸€ã€ç†è®º"></a>ä¸€ã€ç†è®º</h3><h3 id="0ã€å¯¼å›¾ï¼šMapï¼šSpring-IOC"><a href="#0ã€å¯¼å›¾ï¼šMapï¼šSpring-IOC" class="headerlink" title="0ã€å¯¼å›¾ï¼šMapï¼šSpring IOC"></a>0ã€å¯¼å›¾ï¼š<a href="../../maps/Map%EF%BC%9ASpringIoC.xmind">Mapï¼šSpring IOC</a></h3><hr>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250518162951182.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9ASpring%20IOC/image-20250518163131432.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="1ã€Spring-IoC"><a href="#1ã€Spring-IoC" class="headerlink" title="1ã€Spring IoC"></a>1ã€Spring IoC</h3><h4 id="1-1ã€IoC-æ¦‚è¿°"><a href="#1-1ã€IoC-æ¦‚è¿°" class="headerlink" title="1.1ã€IoC æ¦‚è¿°"></a>1.1ã€IoC æ¦‚è¿°</h4><p>&#x3D;&#x3D;1.é—®é¢˜ï¼šä»£ç é«˜è€¦åˆåº¦&#x3D;&#x3D;<br>åœ¨ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œç±»ä¸ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»é€šå¸¸æ˜¯ç›´æ¥åˆ›å»ºçš„ã€‚è¿™ç§ç›´æ¥ä¾èµ–ä¼šå¯¼è‡´ä»£ç é«˜åº¦è€¦åˆï¼Œä½¿å¾—ç³»ç»Ÿçš„ç»´æŠ¤å’Œæµ‹è¯•å˜å¾—å›°éš¾ã€‚</p>
<p>å°¤å…¶æ˜¯åœ¨ä¸‰å±‚æ¶æ„ä¸­ï¼Œè™½ç„¶å±‚ä¸å±‚ä¹‹é—´é€šè¿‡æ¥å£è¡”æ¥ï¼Œä½†ç›´æ¥ä¾èµ–ä»ç„¶å­˜åœ¨ã€‚å¦‚æœä¸Šå±‚ä¾èµ–ä¸‹å±‚ï¼Œä¸”ä¸‹å±‚å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¸Šå±‚ä¹Ÿéœ€è¦è¿›è¡Œç›¸åº”æ›´æ”¹ï¼Œè¿™è¿èƒŒäº†è½¯ä»¶å¼€å‘ä¸­çš„å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰å’Œä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDIPï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åœ¨ Service å±‚ä¸­ç›´æ¥å®ä¾‹åŒ– Dao å±‚çš„å¯¹è±¡  </span><br><span class="hljs-keyword">private</span> <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImplForMySQL</span>();  <br>â€‹  <br><span class="hljs-comment">// åœ¨ Web å±‚ä¸­ç›´æ¥å®ä¾‹åŒ– Service å±‚çš„å¯¹è±¡  </span><br><span class="hljs-keyword">private</span> <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br></code></pre></td></tr></table></figure>


<p>&#x3D;&#x3D;2.IoC è§£å†³æ–¹æ¡ˆ&#x3D;&#x3D;<br>æ§åˆ¶åè½¬ï¼ˆIoCï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç®¡ç†ä»åº”ç”¨ç¨‹åºä»£ç ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œäº¤ç”±ä¸€ä¸ªå¤–éƒ¨çš„å®¹å™¨æˆ–æ¡†æ¶è¿›è¡Œè‡ªåŠ¨ç®¡ç†ã€‚</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-comment">// åœ¨ IoC å®¹å™¨ç®¡ç†ä¸‹ï¼Œä¾èµ–å…³ç³»ç”±å®¹å™¨å¤„ç†</span><br><span class="hljs-keyword">private</span> UserDao userDao; <span class="hljs-comment">// ä¸ç›´æ¥å®ä¾‹åŒ–å…·ä½“å®ç°</span><br></code></pre></td></tr></table></figure>

<hr>
<h4 id="1-2ã€IoC-çš„å®ç°æ–¹å¼"><a href="#1-2ã€IoC-çš„å®ç°æ–¹å¼" class="headerlink" title="1.2ã€IoC çš„å®ç°æ–¹å¼"></a>1.2ã€IoC çš„å®ç°æ–¹å¼</h4><p>IoC çš„å®ç°æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li><font color="#00b0f0">æ„é€ å™¨æ³¨å…¥</font>ï¼šé€šè¿‡æ„é€ å‡½æ•°å°†ä¾èµ–é¡¹æ³¨å…¥ã€‚</li>
<li><font color="#00b0f0">Setter æ³¨å…¥</font>ï¼šé€šè¿‡ setter æ–¹æ³•å°†ä¾èµ–é¡¹æ³¨å…¥ã€‚</li>
</ol>
<hr>
<h4 id="1-3ã€Spring-IoC-æ˜¯ä»€ä¹ˆ"><a href="#1-3ã€Spring-IoC-æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.3ã€Spring IoC æ˜¯ä»€ä¹ˆ"></a>1.3ã€Spring IoC æ˜¯ä»€ä¹ˆ</h4><p>Spring IoC æ˜¯ Spring æ¡†æ¶å¯¹ IoC è®¾è®¡æ¨¡å¼çš„å…·ä½“å®ç°ã€‚å®ƒå¯ä»¥æ ¹æ®é…ç½®æ–‡ä»¶æˆ–æ³¨è§£è‡ªåŠ¨åˆ›å»º Bean å¯¹è±¡ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œä»è€Œæœ‰æ•ˆç®¡ç† Bean å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚æ­¤å¤–ï¼ŒSpring IoC è¿˜æ”¯æŒä¸º Bean å¯¹è±¡çš„å±æ€§èµ‹äºˆå¸¸é‡å€¼ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†å…¶çµæ´»æ€§å’Œæ˜“ç”¨æ€§ã€‚</p>
<hr>
<h3 id="2ã€Bean"><a href="#2ã€Bean" class="headerlink" title="2ã€Bean"></a>2ã€Bean</h3><h4 id="2-1ã€Bean-æ¦‚è¿°"><a href="#2-1ã€Bean-æ¦‚è¿°" class="headerlink" title="2.1ã€Bean æ¦‚è¿°"></a>2.1ã€Bean æ¦‚è¿°</h4><p>Bean å°±æ˜¯ Spring å®¹å™¨æ‰€åˆ›å»ºå’Œç®¡ç†çš„å¯¹è±¡ï¼ŒSpring å®¹å™¨è´Ÿè´£è¿™äº›å¯¹è±¡çš„åˆ›å»ºã€ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ä»¥åŠä¾èµ–å…³ç³»çš„å¤„ç†ã€‚</p>
<hr>
<h4 id="2-2ã€Bean-å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#2-2ã€Bean-å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.2ã€Bean å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"></a>2.2ã€Bean å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</h4><ol>
<li><p>&#x3D;&#x3D;å®ä¾‹åŒ– Bean&#x3D;&#x3D;</p>
<ul>
<li>Spring ä½¿ç”¨åå°„æœºåˆ¶è°ƒç”¨ Bean çš„æ„é€ å‡½æ•°æ¥åˆ›å»º Bean å®ä¾‹ã€‚é»˜è®¤ä½¿ç”¨æ— å‚æ„é€ å‡½æ•°ï¼Œå¦‚æœä½¿ç”¨äº†æ„é€ æ³¨å…¥ï¼Œåˆ™ä½¿ç”¨ç›¸åº”çš„æœ‰å‚æ„é€ æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;Bean çš„å±æ€§èµ‹å€¼&#x3D;&#x3D;</p>
<ul>
<li>åœ¨ Bean å®ä¾‹åŒ–åï¼ŒSpring æ ¹æ®é…ç½®æ–‡ä»¶ï¼ˆå¦‚ XML æˆ–æ³¨è§£ï¼‰è¿›è¡Œå±æ€§æ³¨å…¥ï¼Œå®Œæˆä¾èµ–é¡¹çš„æ³¨å…¥ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;æ£€æŸ¥ Aware æ¥å£&#x3D;&#x3D;</p>
<ul>
<li>Spring æ£€æŸ¥ Bean æ˜¯å¦å®ç°äº†æŸäº›ç‰¹å®šçš„ Aware æ¥å£ï¼Œä¾‹å¦‚ <code>BeanNameAware</code>ã€<code>BeanClassLoaderAware</code> æˆ– <code>BeanFactoryAware</code>ã€‚è‹¥å®ç°ï¼Œåˆ™è°ƒç”¨ç›¸åº”çš„æ–¹æ³•å®Œæˆç›¸å…³ä¾èµ–çš„è®¾ç½®ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;Bean åå¤„ç†å™¨ before æ‰§è¡Œ&#x3D;&#x3D;</p>
<ul>
<li>Spring è°ƒç”¨æ‰€æœ‰æ³¨å†Œçš„ <code>BeanPostProcessor</code> çš„ <code>postProcessBeforeInitialization</code> æ–¹æ³•ï¼Œå…è®¸å¯¹ Bean è¿›è¡Œè‡ªå®šä¹‰æ“ä½œå’Œä¿®æ”¹ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;æ£€æŸ¥ InitializingBean æ¥å£å¹¶è°ƒç”¨å…¶æ–¹æ³•&#x3D;&#x3D;</p>
<ul>
<li>æ£€æŸ¥ Bean æ˜¯å¦å®ç°äº† <code>InitializingBean</code> æ¥å£ã€‚å¦‚æœå®ç°äº†ï¼ŒSpring è°ƒç”¨ <code>afterPropertiesSet</code> æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–é€»è¾‘ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;åˆå§‹åŒ– Bean&#x3D;&#x3D;</p>
<ul>
<li>å¦‚æœé…ç½®ä¸­æŒ‡å®šäº†åˆå§‹åŒ–æ–¹æ³•ï¼ˆä¾‹å¦‚é€šè¿‡ <code>@PostConstruct</code> æ³¨è§£æˆ– XML é…ç½®ä¸­çš„ <code>init-method</code>ï¼‰ï¼ŒSpring ä¼šåœ¨æ­¤é˜¶æ®µè°ƒç”¨è¿™äº›åˆå§‹åŒ–æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;Bean åå¤„ç†å™¨ after æ‰§è¡Œ&#x3D;&#x3D;   </p>
<ul>
<li>Spring è°ƒç”¨æ‰€æœ‰æ³¨å†Œçš„ <code>BeanPostProcessor</code> çš„ <code>postProcessAfterInitialization</code> æ–¹æ³•ï¼Œå…è®¸åœ¨ Bean åˆå§‹åŒ–åè¿›è¡Œè‡ªå®šä¹‰æ“ä½œå’Œä¿®æ”¹ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;ä½¿ç”¨ Bean&#x3D;&#x3D;</p>
<ul>
<li>Bean å®Œæˆåˆå§‹åŒ–åï¼Œè¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;æ£€æŸ¥ DisposableBean æ¥å£å¹¶è°ƒç”¨å…¶æ–¹æ³•&#x3D;&#x3D;</p>
<ul>
<li>åœ¨ Bean è¢«é”€æ¯ä¹‹å‰ï¼ŒSpring æ£€æŸ¥ Bean æ˜¯å¦å®ç°äº† <code>DisposableBean</code> æ¥å£ã€‚å¦‚æœå®ç°äº†ï¼ŒSpring è°ƒç”¨ <code>destroy</code> æ–¹æ³•è¿›è¡Œèµ„æºé‡Šæ”¾ç­‰æ¸…ç†å·¥ä½œã€‚</li>
</ul>
</li>
<li><p>&#x3D;&#x3D;é”€æ¯ Bean&#x3D;&#x3D;    </p>
<ul>
<li>åœ¨ Bean ç”Ÿå‘½å‘¨æœŸçš„æœ€åé˜¶æ®µï¼Œå¦‚æœé…ç½®äº†è‡ªå®šä¹‰çš„é”€æ¯æ–¹æ³•ï¼ˆå¦‚é€šè¿‡ <code>@PreDestroy</code> æ³¨è§£æˆ– XML é…ç½®ä¸­çš„ <code>destroy-method</code>ï¼‰ï¼ŒSpring ä¼šè°ƒç”¨è¿™äº›é”€æ¯æ–¹æ³•ï¼Œå®Œæˆæœ€ç»ˆçš„æ¸…ç†å·¥ä½œã€‚</li>
</ul>
</li>
</ol>
<hr>
<h4 id="2-3ã€Bean-å¯¹è±¡çš„ä½œç”¨åŸŸ"><a href="#2-3ã€Bean-å¯¹è±¡çš„ä½œç”¨åŸŸ" class="headerlink" title="2.3ã€Bean å¯¹è±¡çš„ä½œç”¨åŸŸ"></a>2.3ã€Bean å¯¹è±¡çš„ä½œç”¨åŸŸ</h4><p>Bean çš„ä½œç”¨åŸŸå†³å®šäº†ä¸€ä¸ª Bean å®ä¾‹çš„å®ä¾‹åŒ–æ—¶æœºã€ç”Ÿå‘½å‘¨æœŸã€å­˜å‚¨æ–¹å¼å’Œå…±äº«ç¨‹åº¦ã€‚å¸¸è§çš„ä½œç”¨åŸŸæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><p><strong>Singletonï¼ˆé»˜è®¤ï¼Œå•ä¾‹ï¼‰</strong>ï¼š</p>
<ul>
<li><p><strong>å®ä¾‹åŒ–æ—¶æœº</strong>ï¼šSpring å®¹å™¨åˆå§‹åŒ–æ—¶ç«‹å³åˆ›å»ºæ‰€æœ‰çš„ Singleton Beanï¼Œæˆ–é…ç½®ä¸ºæ‡’åŠ è½½ã€‚</p>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä» Spring å®¹å™¨åˆå§‹åŒ–å¼€å§‹ï¼Œåˆ°å®¹å™¨å…³é—­ä¸ºæ­¢ï¼Œå®Œæˆæ‰€æœ‰ 10 ä¸ªç”Ÿå‘½å‘¨æœŸæ­¥éª¤ã€‚</p>
</li>
<li><p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šå®ä¾‹å­˜å‚¨åœ¨ Spring å®¹å™¨å†…éƒ¨çš„ <code>Map</code> é›†åˆä¸­ï¼Œä»¥ Bean åç§°ä¸ºé”®ï¼Œå®ä¾‹ä¸ºå€¼ã€‚</p>
</li>
<li><p><strong>å…±äº«ç¨‹åº¦</strong>ï¼šæ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å…±äº«åŒä¸€ä¸ªå®ä¾‹ï¼Œæ— è®ºæœ‰å¤šå°‘æ¬¡å¯¹è¯¥ Bean çš„è¯·æ±‚ï¼Œéƒ½ä¼šè¿”å›åŒä¸€ä¸ªå®ä¾‹ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>Prototypeï¼ˆåŸå‹ï¼‰</strong>ï¼š</p>
<ul>
<li><p><strong>å®ä¾‹åŒ–æ—¶æœº</strong>ï¼šæ¯æ¬¡å¯¹ Bean çš„è¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä»…é™äºè¯·æ±‚çš„å¤„ç†æœŸé—´ï¼ŒSpring ä¸ç®¡ç† Prototype Bean çš„é”€æ¯ï¼Œéœ€è¦ç”±åº”ç”¨ç¨‹åºä»£ç è‡ªè¡Œå¤„ç†ï¼Œå› æ­¤åªå®Œæˆç”Ÿå‘½å‘¨æœŸå‰ä¹æ­¥ã€‚</p>
</li>
<li><p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šå®ä¾‹ä¸åœ¨ Spring å®¹å™¨ä¸­å­˜å‚¨ï¼Œæ¯æ¬¡è¯·æ±‚è·å–çš„æ˜¯ä¸åŒçš„å®ä¾‹ã€‚</p>
</li>
<li><p><strong>å…±äº«ç¨‹åº¦</strong>ï¼šæ¯æ¬¡è¯·æ±‚éƒ½ä¼šè·å¾—ä¸åŒçš„å®ä¾‹ï¼Œä¸å…±äº«ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>Requestï¼ˆè¯·æ±‚ï¼‰</strong>ï¼ˆç‰¹å®šäº Web åº”ç”¨ç¨‹åºï¼‰ï¼š</p>
<ul>
<li><p><strong>å®ä¾‹åŒ–æ—¶æœº</strong>ï¼šæ¯æ¬¡ HTTP è¯·æ±‚åˆ°è¾¾æ—¶åˆ›å»ºå®ä¾‹ã€‚</p>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä»è¯·æ±‚åˆ°è¾¾æ—¶å¼€å§‹ï¼Œåˆ°è¯·æ±‚å¤„ç†å®Œæˆåé”€æ¯å®ä¾‹ï¼Œå®Œæˆå…¨éƒ¨ 10 ä¸ªç”Ÿå‘½å‘¨æœŸæ­¥éª¤ã€‚</p>
</li>
<li><p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šå®ä¾‹å­˜å‚¨åœ¨è¯·æ±‚çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
</li>
<li><p><strong>å…±äº«ç¨‹åº¦</strong>ï¼šåœ¨ä¸€æ¬¡ HTTP è¯·æ±‚å†…å…±äº«ï¼Œè·¨ä¸åŒè¯·æ±‚ä¸å…±äº«ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>Sessionï¼ˆä¼šè¯ï¼‰</strong>ï¼ˆç‰¹å®šäº Web åº”ç”¨ç¨‹åºï¼‰ï¼š</p>
<ul>
<li><p><strong>å®ä¾‹åŒ–æ—¶æœº</strong>ï¼šæ¯æ¬¡æ–°çš„ç”¨æˆ·ä¼šè¯å¼€å§‹æ—¶åˆ›å»ºå®ä¾‹ã€‚</p>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä»ç”¨æˆ·çš„ HTTP ä¼šè¯å¼€å§‹æ—¶åˆ›å»ºå®ä¾‹ï¼Œåˆ°ä¼šè¯å¤±æ•ˆæ—¶é”€æ¯å®ä¾‹ï¼Œå®Œæˆå…¨éƒ¨ 10 ä¸ªç”Ÿå‘½å‘¨æœŸæ­¥éª¤ã€‚</p>
</li>
<li><p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šå®ä¾‹å­˜å‚¨åœ¨ä¼šè¯ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
</li>
<li><p><strong>å…±äº«ç¨‹åº¦</strong>ï¼šåœ¨åŒä¸€ä¸ªä¼šè¯ä¸­å…±äº«ï¼Œè·¨ä¸åŒä¼šè¯ä¸å…±äº«ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>Global sessionï¼ˆå…¨å±€ä¼šè¯ï¼‰</strong>ï¼ˆä¸»è¦ç”¨äºåŸºäº Portlet çš„ Web åº”ç”¨ï¼‰ï¼š</p>
<ul>
<li><p><strong>å®ä¾‹åŒ–æ—¶æœº</strong>ï¼šå½“ global session å¼€å§‹æ—¶åˆ›å»ºå®ä¾‹ã€‚</p>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä¸ global session ç”Ÿå‘½å‘¨æœŸç›¸åŒï¼Œä» global session å¼€å§‹æ—¶åˆ›å»ºå®ä¾‹ï¼Œåˆ° global session å¤±æ•ˆæ—¶é”€æ¯å®ä¾‹ï¼Œå®Œæˆå…¨éƒ¨ 10 ä¸ªç”Ÿå‘½å‘¨æœŸæ­¥éª¤ã€‚</p>
</li>
<li><p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šå®ä¾‹å­˜å‚¨åœ¨ global session ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
</li>
<li><p><strong>å…±äº«ç¨‹åº¦</strong>ï¼šåœ¨æ‰€æœ‰ Portlet ä¸­å…±äº«åŒä¸€ä¸ªå®ä¾‹ã€‚</p>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="2-4ã€Bean-å¯¹è±¡çš„å®ä¾‹åŒ–æ–¹å¼"><a href="#2-4ã€Bean-å¯¹è±¡çš„å®ä¾‹åŒ–æ–¹å¼" class="headerlink" title="2.4ã€Bean å¯¹è±¡çš„å®ä¾‹åŒ–æ–¹å¼"></a>2.4ã€Bean å¯¹è±¡çš„å®ä¾‹åŒ–æ–¹å¼</h4><h5 id="2-4-1ã€å‰è¨€ï¼šå®ä¾‹åŒ–æ–¹å¼-æ¦‚è¿°"><a href="#2-4-1ã€å‰è¨€ï¼šå®ä¾‹åŒ–æ–¹å¼-æ¦‚è¿°" class="headerlink" title="2.4.1ã€å‰è¨€ï¼šå®ä¾‹åŒ–æ–¹å¼ æ¦‚è¿°"></a>2.4.1ã€å‰è¨€ï¼šå®ä¾‹åŒ–æ–¹å¼ æ¦‚è¿°</h5><p>Bean çš„å®ä¾‹åŒ–ç”± Spring æ¡†æ¶è´Ÿè´£ã€‚äº†è§£ Spring å¦‚ä½•å®ä¾‹åŒ– Bean ä»¥åŠå¦‚ä½•é…ç½® Bean çš„å®ä¾‹åŒ–æ–¹å¼æ˜¯é…ç½®å’Œä¼˜åŒ– Spring åº”ç”¨çš„é‡è¦éƒ¨åˆ†ã€‚Bean çš„å®ä¾‹åŒ–æ–¹å¼åŒ…æ‹¬ï¼š</p>
<ol>
<li><font color="#00b0f0">æ„é€ æ–¹æ³•ï¼ˆæœ¬è´¨ï¼‰</font></li>
<li><font color="#00b0f0">ç®€å•å·¥å‚æ¨¡å¼</font></li>
<li><font color="#00b0f0">å®ä¾‹å·¥å‚æ¨¡å¼</font></li>
</ol>
<blockquote>
<p>[!NOTE] æ³¨æ„äº‹é¡¹</p>
<ol>
<li>è¿™ä¸‰ç§å®ä¾‹åŒ–æ–¹æ³•ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡è°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•å®ç°çš„</li>
</ol>
</blockquote>
<hr>
<h5 id="2-4-2ã€æ„é€ æ–¹æ³•"><a href="#2-4-2ã€æ„é€ æ–¹æ³•" class="headerlink" title="2.4.2ã€æ„é€ æ–¹æ³•"></a>2.4.2ã€æ„é€ æ–¹æ³•</h5><p>Spring é»˜è®¤ä½¿ç”¨æ— å‚æ„é€ æ–¹æ³•åˆ›å»º Bean å®ä¾‹ï¼Œå¦‚æœä½¿ç”¨äº†æ„é€ æ³¨å…¥ï¼Œåˆ™ä½¿ç”¨ç›¸åº”çš„æœ‰å‚æ„é€ æ–¹æ³•ã€‚</p>
<hr>
<h5 id="2-4-3ã€ç®€å•å·¥å‚æ¨¡å¼"><a href="#2-4-3ã€ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="2.4.3ã€ç®€å•å·¥å‚æ¨¡å¼"></a>2.4.3ã€ç®€å•å·¥å‚æ¨¡å¼</h5><p>&#x3D;&#x3D;1.å·¥å‚ç±»&#x3D;&#x3D;</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">WeaponFactory</span> </span>&#123;  <br>â€‹  <br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Weapon createWeapon(<span class="hljs-keyword">String</span> weaponType) &#123;  <br>		<span class="hljs-keyword">if</span> (weaponType == <span class="hljs-literal">null</span> || weaponType.trim().isEmpty()) &#123;  <br>			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span><span class="hljs-type"></span> IllegalArgumentException(<span class="hljs-string">&quot;Weapon type must not be null or empty&quot;</span>);  <br>		&#125;  <br>		  <br>		<span class="hljs-keyword">switch</span> (weaponType.toLowerCase()) &#123;  <br>			<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;sword&quot;</span>:  <span class="hljs-type"></span><br>				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span><span class="hljs-type"></span> Sword();  <br>			<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;bow&quot;</span>:  <span class="hljs-type"></span><br>				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span><span class="hljs-type"></span> Bow();  <br>			<span class="hljs-keyword">default</span>:  <span class="hljs-type"></span><br>				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span><span class="hljs-type"></span> IllegalArgumentException(<span class="hljs-string">&quot;Unknown weapon type&quot;</span>);  <br>		&#125;  <br>	&#125;  <br>&#125;<br></code></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;2.XML é…ç½®&#x3D;&#x3D;</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">å£°æ˜äº§å“ Bean</span><br><span class="hljs-comment">classï¼šæŒ‡å‘å·¥å‚ç±»</span><br><span class="hljs-comment">factroy-methodï¼šæŒ‡å‘å·¥å‚ç±»çš„æ–¹æ³•ï¼ŒSpring å°†è°ƒç”¨è¿™ä¸ªæ–¹æ³•åˆ›å»º Bean å®ä¾‹</span><br><span class="hljs-comment">&lt;constructor-arg&gt;ï¼šä¸ºå·¥å‚ç±»çš„é™æ€æ–¹æ³•ä¼ é€’å‚æ•°</span><br><span class="hljs-comment">--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;weapon&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.WeaponFactory&quot;</span> <span class="hljs-attr">factory-method</span>=<span class="hljs-string">&quot;createWeapon&quot;</span>&gt;</span> <br>	<span class="hljs-comment">&lt;!-- é€šè¿‡ &lt;constructor-arg&gt; å…ƒç´ ä¼ é€’å·¥å‚æ–¹æ³•å‚æ•° --&gt;</span>  <br>	<span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sword&quot;</span>/&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure>

<hr>
<h5 id="2-4-4ã€å®ä¾‹å·¥å‚æ¨¡å¼"><a href="#2-4-4ã€å®ä¾‹å·¥å‚æ¨¡å¼" class="headerlink" title="2.4.4ã€å®ä¾‹å·¥å‚æ¨¡å¼"></a>2.4.4ã€å®ä¾‹å·¥å‚æ¨¡å¼</h5><p>&#x3D;&#x3D;1.å…·ä½“å·¥å‚è§’è‰²&#x3D;&#x3D;</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">TankFactory</span> <span class="hljs-keyword"><span class="hljs-keyword">implements</span> <span class="hljs-type">WeaponFactory</span></span> </span>&#123;<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">public</span> Weapon <span class="hljs-keyword">get</span>() &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span><span class="hljs-type"></span> Tank(); <br>	&#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;2.XML é…ç½®&#x3D;&#x3D;</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å£°æ˜å…·ä½“å·¥å‚ Bean --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;gunFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.powernode.spring6.bean.GunFactory&quot;</span>/&gt;</span>  <br><br><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">å£°æ˜äº§å“ Bean</span><br><span class="hljs-comment">factory-beanï¼šæŒ‡å‘å…·ä½“å·¥å‚ Beanï¼Œé€šè¿‡è¯¥å·¥å‚ Bean åˆ›å»ºç›®æ ‡ Bean</span><br><span class="hljs-comment">factory-methodï¼šæŒ‡å‘å…·ä½“å·¥å‚çš„æ–¹æ³•ï¼ŒSpring å°†è°ƒç”¨è¿™ä¸ªæ–¹æ³•åˆ›å»º Bean å®ä¾‹</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;gun&quot;</span> <span class="hljs-attr">factory-bean</span>=<span class="hljs-string">&quot;gunFactory&quot;</span> <span class="hljs-attr">factory-method</span>=<span class="hljs-string">&quot;get&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure>

<hr>
<h1 id="äºŒã€å®æ“"><a href="#äºŒã€å®æ“" class="headerlink" title="äºŒã€å®æ“"></a>äºŒã€å®æ“</h1><h3 id="1ã€åŸºæœ¬å¼€å‘æ­¥éª¤"><a href="#1ã€åŸºæœ¬å¼€å‘æ­¥éª¤" class="headerlink" title="1ã€åŸºæœ¬å¼€å‘æ­¥éª¤"></a>1ã€åŸºæœ¬å¼€å‘æ­¥éª¤</h3><h4 id="1-1ã€ç¯å¢ƒå‡†å¤‡"><a href="#1-1ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="1.1ã€ç¯å¢ƒå‡†å¤‡"></a>1.1ã€ç¯å¢ƒå‡†å¤‡</h4><hr>
<h4 id="1-2ã€åˆ›å»º-Spring-IoC-é¡¹ç›®"><a href="#1-2ã€åˆ›å»º-Spring-IoC-é¡¹ç›®" class="headerlink" title="1.2ã€åˆ›å»º Spring IoC é¡¹ç›®"></a>1.2ã€åˆ›å»º Spring IoC é¡¹ç›®</h4><p>å¼•å…¥ <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.springframework/spring-context">Spring Context ä¾èµ–</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 1. Spring Context --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>xxxxx<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure>

<hr>
<h4 id="1-3ã€ç¼–å†™-Bean-ç±»"><a href="#1-3ã€ç¼–å†™-Bean-ç±»" class="headerlink" title="1.3ã€ç¼–å†™ Bean ç±»"></a>1.3ã€ç¼–å†™ Bean ç±»</h4><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">QianDaYe</span> &#123;<br>    <span class="hljs-comment">// 1. å¯¹è±¡ç±»å‹</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Object</span> userDao;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Object</span> bankDao;<br>    <br>    <span class="hljs-comment">// 2. ç®€å•æ•°ç»„</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] ages; <span class="hljs-comment">// ä¸€ç»´æ•°ç»„</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[][] ages2D; <span class="hljs-comment">// äºŒç»´æ•°ç»„</span><br>    <br>    <span class="hljs-comment">// 3. å¤æ‚æ•°ç»„</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Object</span>[] womens; <span class="hljs-comment">// ä¸€ç»´æ•°ç»„</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Object</span>[][] womens2D;  <span class="hljs-comment">// äºŒç»´æ•°ç»„</span><br>    <br>    <span class="hljs-comment">// 4. ç®€å• List é›†åˆ</span><br>    <span class="hljs-keyword">private</span> List&lt;Integer&gt; ageList;  <span class="hljs-comment">// Integer ç±»å‹ List</span><br>    <br>    <span class="hljs-comment">// 5. å¤æ‚ List é›†åˆ</span><br>    <span class="hljs-keyword">private</span> List&lt;<span class="hljs-built_in">Object</span>&gt; womenList; <br>    <br>    <span class="hljs-comment">// 6. ç®€å• Set é›†åˆ</span><br>    <span class="hljs-keyword">private</span> Set&lt;Integer&gt; ageSet;  <span class="hljs-comment">// Integer ç±»å‹ Set</span><br>    <br>    <span class="hljs-comment">// 7. å¤æ‚ Set é›†åˆ</span><br>    <span class="hljs-keyword">private</span> Set&lt;<span class="hljs-built_in">Object</span>&gt; womenSet; <br>    <br>	<span class="hljs-comment">// 8. ç®€å• Map é›†åˆ</span><br>    <span class="hljs-keyword">private</span> Map&lt;<span class="hljs-built_in">String</span>, Integer&gt; ageMap;  <span class="hljs-comment">// Integer ç±»å‹çš„ Map</span><br>    <br>    <span class="hljs-comment">// 9. å¤æ‚ Map é›†åˆ</span><br>    <span class="hljs-keyword">private</span> Map&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Object</span>&gt; phones; <span class="hljs-comment">// Map é›†åˆ</span><br>    <br>    <span class="hljs-comment">// 10. ç®€å•æ•°æ®ç±»å‹</span><br>    <br>    <span class="hljs-comment">// 10.1 åŸºæœ¬æ•°æ®ç±»å‹</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;  <br>	<span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> isActive; <br>	<span class="hljs-keyword">private</span> <span class="hljs-type">double</span> balance;  <br>	<span class="hljs-keyword">private</span> <span class="hljs-type">char</span> grade; <br>	<span class="hljs-keyword">private</span> <span class="hljs-type">long</span> id;  <br>	<span class="hljs-keyword">private</span> <span class="hljs-type">float</span> weight; <br>	<br>	<span class="hljs-comment">// 10.2 åŒ…è£…ç±»å‹</span><br>    <span class="hljs-keyword">private</span> Integer ageWrapper;  <br>    <span class="hljs-keyword">private</span> Boolean isActiveWrapper;  <br>    <span class="hljs-keyword">private</span> Double balanceWrapper; <br>    <span class="hljs-keyword">private</span> Character gradeWrapper;  <br>    <span class="hljs-keyword">private</span> Long idWrapper; <br>    <span class="hljs-keyword">private</span> Float weightWrapper; <br>    <br>	<span class="hljs-comment">// 10.3 å­—ç¬¦ä¸²ç±»å‹</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">String</span> name;  <br>    <br>    <br>    <span class="hljs-comment">// æœ‰å‚æ„é€ </span><br>    <span class="hljs-comment">// æ— å‚æ„é€ </span><br>    <span class="hljs-comment">// Getter æ–¹æ³•</span><br>    <span class="hljs-comment">// Setter æ–¹æ³•</span><br>    <span class="hljs-comment">// toString æ–¹æ³•</span><br>    <br>	<span class="hljs-comment">// å…¶ä»–æ–¹æ³•</span><br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="1-4ã€é…ç½®ä¸ä½¿ç”¨-Bean"><a href="#1-4ã€é…ç½®ä¸ä½¿ç”¨-Bean" class="headerlink" title="1.4ã€é…ç½®ä¸ä½¿ç”¨ Bean"></a>1.4ã€é…ç½®ä¸ä½¿ç”¨ Bean</h4><h5 id="1-4-1ã€é…ç½®æ¦‚è¿°"><a href="#1-4-1ã€é…ç½®æ¦‚è¿°" class="headerlink" title="1.4.1ã€é…ç½®æ¦‚è¿°"></a>1.4.1ã€é…ç½®æ¦‚è¿°</h5><p>åœ¨ Spring IoC ä¸­ï¼Œé…ç½® Bean çš„æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<ol>
<li>&#x3D;&#x3D;XML é…ç½®æ–‡ä»¶ é…ç½®æ–¹å¼&#x3D;&#x3D;ï¼š<ol>
<li>åœ¨ <code>applicationContext.xml</code> é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œå£°æ˜ Bean å¯¹è±¡å’Œé…ç½®å±æ€§æ³¨å…¥<ol>
<li>ä¼˜ç‚¹ï¼šåŒä¸€ Bean ç±»å¯ä»¥é…ç½®å¤šä¸ªå®ä¾‹</li>
<li>ç¼ºç‚¹ï¼šä»…é€‚ç”¨äºç®¡ç†å¯¹è±¡ç±»å‹çš„ Bean</li>
</ol>
</li>
<li><font color="#00b0f0">æ„é€ æ³¨å…¥</font>ï¼š<ol>
<li>é€šè¿‡æ„é€ å™¨è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œéœ€è¦åœ¨ XML ä¸­æ‰‹åŠ¨é…ç½®å±æ€§æ³¨å…¥</li>
</ol>
</li>
<li><font color="#00b0f0">Setter æ³¨å…¥</font>ï¼š<ol>
<li>é€šè¿‡ setter æ–¹æ³•è¿›è¡Œä¾èµ–æ³¨å…¥ï¼ŒåŒæ ·éœ€è¦åœ¨ XML ä¸­æ‰‹åŠ¨é…ç½®å±æ€§æ³¨å…¥</li>
</ol>
</li>
<li><font color="#00b0f0">è‡ªåŠ¨è£…é…</font>ï¼š<ol>
<li>å¯ç”¨è‡ªåŠ¨è£…é…åï¼Œå®¹å™¨å¯è‡ªåŠ¨åŒ¹é…ä¾èµ–ï¼Œä½†æ— æ³•æ³¨å…¥åŸºæœ¬æ•°æ®ç±»å‹åŠå…¶é›†åˆï¼ˆå¦‚ç®€å•æ•°ç»„ã€ç®€å• Listã€ç®€å• Setã€ç®€å• Mapï¼‰</li>
</ol>
</li>
</ol>
</li>
<li>&#x3D;&#x3D;æ³¨è§£ + æ‰«æ é…ç½®æ–¹å¼ï¼ˆæ¨èï¼‰&#x3D;&#x3D;ï¼š<ol>
<li>ç»“åˆæ³¨è§£ï¼ˆå¦‚ <code>@Component</code>ã€<code>@Resource</code>ã€<code>@Autowired</code>ã€<code>@Value</code> ç­‰ï¼‰å’Œç±»è·¯å¾„æ‰«æï¼ˆXML æ–‡ä»¶æ‰«ææˆ–é…ç½®ç±»æ‰«æï¼‰å®ç°å£°æ˜ Bean å¯¹è±¡å’Œé…ç½®å±æ€§æ³¨å…¥<ol>
<li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ã€å‡å°‘ XML æ–‡ä»¶ï¼Œè‡ªåŠ¨æ‰«æå’Œè‡ªåŠ¨è£…é…æ›´åŠ æ–¹ä¾¿ã€‚</li>
<li>ç¼ºç‚¹ï¼š<ol>
<li>ä»…é€‚ç”¨äºç®¡ç†å¯¹è±¡ç±»å‹çš„ Bean</li>
<li>åŒä¸€ Bean ç±»åªèƒ½å£°æ˜ä¸€ä¸ªå®ä¾‹ï¼ˆå³åŒä¸€ä¸ªæ³¨è§£æ ‡æ³¨çš„å¯¹è±¡ï¼‰</li>
</ol>
</li>
</ol>
</li>
<li>åœ¨ Bean ç±»ä¸­å£°æ˜ Bean å¯¹è±¡å’Œé…ç½®å±æ€§æ³¨å…¥<ol>
<li>å¯¹äºå¯¹è±¡ç±»å‹åŠå…¶é›†åˆï¼ˆå¦‚å¤æ‚æ•°ç»„ã€å¤æ‚ List ã€å¤æ‚ Set ã€å¤æ‚ Map ï¼‰ï¼Œå¸¸é€šè¿‡ <code>@Autowired</code>ã€<code>@Resource</code>ã€<code>@Qualifier</code> æ³¨è§£è¿›è¡Œè‡ªåŠ¨è£…é…</li>
<li>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹åŠå…¶é›†åˆï¼ˆå¦‚ç®€å•æ•°ç»„ã€ç®€å• List ã€ç®€å• Set ã€ç®€å• Map ï¼‰ï¼Œå¸¸é€šè¿‡ <code>@Value</code> æ³¨è§£è¿›è¡Œæ‰‹åŠ¨æ³¨å…¥ï¼ˆéœ€è¦åŠ è½½å¤–éƒ¨ <code>properties</code> æ–‡ä»¶ï¼‰</li>
</ol>
</li>
<li>åœ¨é…ç½®ç±» æˆ– XML é…ç½®æ–‡ä»¶ä¸­æ‰«æè¿™äº› Bean ç±»ï¼Œä½¿å…¶è¢« Spring å®¹å™¨ç®¡ç†ã€‚</li>
</ol>
</li>
<li>&#x3D;&#x3D;é…ç½®ç±» + æ³¨è§£ + æ‰«æ é…ç½®æ–¹å¼&#x3D;&#x3D;<ol>
<li>åœ¨ Java é…ç½®ç±»ï¼ˆä¾‹å¦‚ <code>ApplicationConfig</code>ï¼‰ä¸­ï¼Œé€šè¿‡ <code>@Bean</code> æ³¨è§£å£°æ˜ Beanï¼ŒåŒæ—¶é…åˆæ³¨è§£ï¼ˆå¦‚ <code>@Component</code>ã€<code>@Resource</code>ã€<code>@Autowired</code>ã€<code>@Value</code> ç­‰ï¼‰å’Œæ‰«ææœºåˆ¶ï¼ˆé…ç½®ç±»æ‰«æï¼‰ç®¡ç†ç»„ä»¶ã€‚<ol>
<li>ä¼˜ç‚¹ï¼š<ol>
<li>ä¸ä»…å¯ä»¥ç®¡ç†å¯¹è±¡ç±»å‹çš„ Beanï¼Œè¿˜æ”¯æŒæ•°ç»„ã€Listã€Setã€Map ç­‰å¤šç§ç±»å‹çš„ Bean</li>
<li>å…è®¸ä¸ºåŒä¸€ Bean ç±»å£°æ˜å¤šä¸ªå®ä¾‹</li>
</ol>
</li>
<li>ç¼ºç‚¹ï¼š<ol>
<li>åœ¨é…ç½®ç±»ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®å±æ€§æ³¨å…¥</li>
</ol>
</li>
</ol>
</li>
<li>åœ¨ <code>ApplicationConfig</code> é…ç½®ç±»ä¸­ï¼Œä½¿ç”¨ <code>@Bean</code> æ³¨è§£å£°æ˜ Bean å¹¶é…ç½®å±æ€§è¾“å…¥ï¼ŒåŒæ—¶å¯ç”¨ç»„ä»¶æ‰«æä»¥ç®¡ç†å…¶ä»–ç»„ä»¶ç±»ã€‚</li>
<li>åœ¨å…¶ä»–ç»„ä»¶ç±»å¯é€šè¿‡ <code>@Autowired</code>ã€<code>@Resource</code> æˆ– <code>@Qualifier</code> æ³¨è§£è‡ªåŠ¨è£…é…è¿™äº› Beanï¼Œå®ç°ä¾èµ–æ³¨å…¥ã€‚</li>
</ol>
</li>
</ol>
<hr>
<h5 id="1-4-2ã€é…ç½®æ–¹å¼1ï¼šXML-é…ç½®æ–‡ä»¶-é…ç½®æ–¹å¼"><a href="#1-4-2ã€é…ç½®æ–¹å¼1ï¼šXML-é…ç½®æ–‡ä»¶-é…ç½®æ–¹å¼" class="headerlink" title="1.4.2ã€é…ç½®æ–¹å¼1ï¼šXML é…ç½®æ–‡ä»¶ é…ç½®æ–¹å¼"></a>1.4.2ã€é…ç½®æ–¹å¼1ï¼šXML é…ç½®æ–‡ä»¶ é…ç½®æ–¹å¼</h5><h6 id="1-4-2-1ã€åˆ›å»º-Spring-IoC-XML-é…ç½®æ–‡ä»¶"><a href="#1-4-2-1ã€åˆ›å»º-Spring-IoC-XML-é…ç½®æ–‡ä»¶" class="headerlink" title="1.4.2.1ã€åˆ›å»º Spring IoC XML é…ç½®æ–‡ä»¶"></a>1.4.2.1ã€åˆ›å»º Spring IoC XML é…ç½®æ–‡ä»¶</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- applicationContext.xml --&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h6 id="1-4-2-2ã€é‡‡ç”¨æ„é€ æ³¨å…¥"><a href="#1-4-2-2ã€é‡‡ç”¨æ„é€ æ³¨å…¥" class="headerlink" title="1.4.2.2ã€é‡‡ç”¨æ„é€ æ³¨å…¥"></a>1.4.2.2ã€é‡‡ç”¨æ„é€ æ³¨å…¥</h6><p>&#x3D;&#x3D;1.ä¸º Bean ç±»å¢æ·»æœ‰å‚æ„é€ æ–¹æ³•&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;2.å£°æ˜ Bean å¯¹è±¡ï¼Œå¹¶é…ç½®è¯¥ Bean çš„å±æ€§æ³¨å…¥&#x3D;&#x3D;</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="hljs-string"><span class="hljs-tag"><span class="language-xml">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="language-xml">       </span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 1. å£°æ˜ QianDaYe Bean å¯¹è±¡ï¼Œä¸€ä¸ª &lt;bean&gt; æ ‡ç­¾å°±æ˜¯ä¸€ä¸ª Bean å¯¹è±¡ --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> </span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myBean&quot;</span>                          &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">Bean</span> <span class="hljs-attr">å¯¹è±¡çš„å”¯ä¸€æ ‡è¯†ç¬¦</span>ï¼Œ<span class="hljs-attr">å¯ä»¥é€šè¿‡æ­¤</span> <span class="hljs-attr">ID</span> <span class="hljs-attr">å¼•ç”¨è¯¥</span> <span class="hljs-attr">Bean</span>ï¼Œ<span class="hljs-attr">æœªæŒ‡å®šæ—¶é»˜è®¤ä¸ºç±»çš„å…¨ç±»å</span>ï¼Œ<span class="hljs-attr">ä¾‹å¦‚</span> <span class="hljs-attr">com.example.MyBean</span>ï¼Œ<span class="hljs-attr">éœ€è¦æ³¨æ„çš„æ˜¯</span> <span class="hljs-attr">ID</span> <span class="hljs-attr">çš„é¦–å­—æ¯è¦å°å†™</span> <span class="hljs-attr">--</span>&gt;</span></span><br><span class="language-xml">        class=&quot;com.example.MyBean&quot;           <span class="hljs-comment">&lt;!-- å¿…å¡«é¡¹ï¼ŒBean å¯¹è±¡çš„æ¯ Bean ç±»çš„å…¨ç±»åï¼ŒSpring ä¼šä½¿ç”¨è¿™ä¸ªç±»æ¥åˆ›å»º Bean çš„å®ä¾‹ --&gt;</span></span><br><span class="language-xml">        primary=&quot;true&quot;                       <span class="hljs-comment">&lt;!-- æ ¹æ®ç±»å‹è£…é…æ—¶ï¼Œè‹¥æœ‰å¤šä¸ªå®ç°ï¼Œè¯¥ Bean ä¸ºä¸»è¦å€™é€‰è€… --&gt;</span></span><br><span class="language-xml">        lazy-init=&quot;true&quot;                     <span class="hljs-comment">&lt;!-- æ˜¯å¦å¼€å§‹æ‡’åŠ è½½ï¼Œé»˜è®¤ä¸º falseï¼Œè‹¥ä¸º trueï¼ŒBean å¯¹è±¡å°†åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶è¢«åˆ›å»º --&gt;</span></span><br><span class="language-xml">        scope=&quot;prototype&quot;                    <span class="hljs-comment">&lt;!-- æŒ‡å®š Bean çš„ä½œç”¨åŸŸï¼Œé»˜è®¤ä¸º singleton --&gt;</span></span><br><span class="language-xml">        init-method=&quot;initMethod&quot;             <span class="hljs-comment">&lt;!-- åˆå§‹åŒ–æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨ä¾èµ–æ³¨å…¥å®Œæˆåè‡ªåŠ¨è°ƒç”¨ --&gt;</span></span><br><span class="language-xml">        destroy-method=&quot;cleanup&quot;             <span class="hljs-comment">&lt;!-- é”€æ¯æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨ Spring å®¹å™¨é”€æ¯ Bean ä¹‹å‰è‡ªåŠ¨è°ƒç”¨ï¼Œé€šå¸¸ç”¨äºæ¸…ç†èµ„æº --&gt;</span></span><br><span class="language-xml">        factory-bean=&quot;myFactoryBean&quot;         <span class="hljs-comment">&lt;!-- å·¥å‚ Beanï¼Œä¸ Bean çš„å®ä¾‹åŒ–æ–¹å¼æœ‰å…³ --&gt;</span></span><br><span class="language-xml">        factory-method=&quot;createInstance&quot;      <span class="hljs-comment">&lt;!-- å·¥å‚æ–¹æ³•ï¼Œä¸ Bean çš„å®ä¾‹åŒ–æ–¹å¼æœ‰å…³ --&gt;</span></span><br><span class="language-xml">        autowire=&quot;byName&quot;&gt;                   <span class="hljs-comment">&lt;!-- é‡‡ç”¨è‡ªåŠ¨è£…é…æ–¹å¼ --&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2. é…ç½®è¯¥ Bean çš„å±æ€§æ³¨å…¥ --&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.1 å¯¹è±¡ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;userDao&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;bankDao&quot;</span> /&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.2 ç®€å•æ•°ç»„ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.2.1 ä¸€ç»´æ•°ç»„ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> </span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>35<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.2.2 äºŒç»´æ•°ç»„ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>35<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>40<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.3 å¤æ‚æ•°ç»„ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.3.1 ä¸€ç»´æ•°ç»„ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>bean1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>bean2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.3.2 äºŒç»´æ•°ç»„ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object4<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.4 ç®€å• List é›†åˆ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>35<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.5 å¤æ‚ List é›†åˆ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.6 ç®€å• Set é›†åˆ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> </span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.7 å¤æ‚ Set é›†åˆ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.8 ç®€å• Map é›†åˆ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;age1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;25&quot;</span>/&gt;</span> </span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;age2&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span>/&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.9 å¤æ‚ Map é›†åˆ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-comment">&lt;!-- 2.9.1 å€¼æ˜¯å¯¹è±¡ --&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;AnotherBean&quot;</span> /&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">                <span class="hljs-comment">&lt;!-- 2.9.2 å€¼æ˜¯ List é›†åˆ --&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Item1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Item2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Item3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean1&quot;</span> /&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean2&quot;</span> /&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean3&quot;</span> /&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">                <span class="hljs-comment">&lt;!-- 2.9.3 å€¼æ˜¯ Set é›†åˆ --&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Value1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Value2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Value3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean1&quot;</span> /&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean2&quot;</span> /&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean3&quot;</span> /&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.10 æ³¨å…¥ç®€å•æ•°æ®ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.10.1 åŸºæœ¬æ•°æ®ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;25&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- int ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- boolean ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;99.99&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- double ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;A&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- char ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1000L&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- long ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3.14&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- float ç±»å‹ --&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.10.2 åŒ…è£…ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- Integer ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- Boolean ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;200.50&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- Double ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;B&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- Character ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5000&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- Long ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2.71&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- Float ç±»å‹ --&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 2.10.3 å­—ç¬¦ä¸²ç±»å‹ --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;John Doe&quot;</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- String ç±»å‹ --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- å£°æ˜å…¶ä»– Bean å¯¹è±¡ --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.bean.QianDaYe&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;qianDaYe&quot;</span> /&gt;</span></span><br><span class="language-xml">    </span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<hr>
<h6 id="1-4-2-3ã€é‡‡ç”¨-Setter-æ³¨å…¥"><a href="#1-4-2-3ã€é‡‡ç”¨-Setter-æ³¨å…¥" class="headerlink" title="1.4.2.3ã€é‡‡ç”¨ Setter æ³¨å…¥"></a>1.4.2.3ã€é‡‡ç”¨ Setter æ³¨å…¥</h6><p>&#x3D;&#x3D;1.ä¸º Bean ç±»å¢æ·» Setter æ–¹æ³•&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;2.å£°æ˜ Bean å¯¹è±¡ï¼Œå¹¶é…ç½®è¯¥å¯¹è±¡çš„å±æ€§æ³¨å…¥&#x3D;&#x3D;<br>è¦å°†æ„é€ æ³¨å…¥æ”¹ä¸º setter æ³¨å…¥ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>&lt;property&gt;</code> æ ‡ç­¾æ¥æ›¿ä»£ <code>&lt;constructor-arg&gt;</code> æ ‡ç­¾</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 1. å£°æ˜ QianDaYe Bean å¯¹è±¡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myBean&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.MyBean&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">lazy-init</span>=<span class="hljs-string">&quot;true&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">init-method</span>=<span class="hljs-string">&quot;initMethod&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">&quot;cleanup&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">factory-bean</span>=<span class="hljs-string">&quot;myFactoryBean&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">factory-method</span>=<span class="hljs-string">&quot;createInstance&quot;</span> </span><br><span class="hljs-tag">        <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byName&quot;</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- 2. é…ç½® Bean å¯¹è±¡çš„ä¾èµ–å…³ç³» --&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.1 å¯¹è±¡ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;userDao&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;bankDao&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;bankDao&quot;</span> /&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.2 ç®€å•æ•°ç»„ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleArray&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> <br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>35<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.3 äºŒç»´æ•°ç»„ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;twoDimArray&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>35<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>40<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.4 ç®€å• List é›†åˆ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleList&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>35<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.5 å¤æ‚ List é›†åˆ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;complexList&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.6 ç®€å• Set é›†åˆ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleSet&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- 2.7 å¤æ‚ Set é›†åˆ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;complexSet&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Object2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.8 ç®€å• Map é›†åˆ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleMap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;age1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;25&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;age2&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.9 å¤æ‚ Map é›†åˆ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;complexMap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- 2.9.1 å€¼æ˜¯å¯¹è±¡ --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;AnotherBean&quot;</span> /&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span><br><br>                <span class="hljs-comment">&lt;!-- 2.9.2 å€¼æ˜¯ List é›†åˆ --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Item1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Item2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Item3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean1&quot;</span> /&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean2&quot;</span> /&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean3&quot;</span> /&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span><br><br>                <span class="hljs-comment">&lt;!-- 2.9.3 å€¼æ˜¯ Set é›†åˆ --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Value1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Value2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Value3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean1&quot;</span> /&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean2&quot;</span> /&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;bean3&quot;</span> /&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- 2.10 æ³¨å…¥ç®€å•æ•°æ®ç±»å‹ --&gt;</span><br>        <span class="hljs-comment">&lt;!-- 2.10.1 åŸºæœ¬æ•°æ®ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleInt&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;25&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- int ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleBoolean&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- boolean ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleDouble&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;99.99&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- double ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleChar&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;A&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- char ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleLong&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1000L&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- long ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;simpleFloat&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3.14&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- float ç±»å‹ --&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- 2.10.2 åŒ…è£…ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wrapperInteger&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Integer ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wrapperBoolean&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Boolean ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wrapperDouble&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;200.50&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Double ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wrapperCharacter&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;B&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Character ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wrapperLong&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5000&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Long ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wrapperFloat&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2.71&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Float ç±»å‹ --&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- 2.10.3 å­—ç¬¦ä¸²ç±»å‹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;stringValue&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;John Doe&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- String ç±»å‹ --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- å£°æ˜å…¶ä»– Bean å¯¹è±¡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.bean.QianDaYe&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;qianDaYe&quot;</span> /&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure>

<hr>
<h6 id="1-4-2-4ã€é‡‡ç”¨è‡ªåŠ¨è£…é…"><a href="#1-4-2-4ã€é‡‡ç”¨è‡ªåŠ¨è£…é…" class="headerlink" title="1.4.2.4ã€é‡‡ç”¨è‡ªåŠ¨è£…é…"></a>1.4.2.4ã€é‡‡ç”¨è‡ªåŠ¨è£…é…</h6><p>&#x3D;&#x3D;1.ä¸º Bean ç±»å¢æ·»æœ‰å‚æ„é€ æ–¹æ³•å’Œ Setter æ–¹æ³•&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;2.å£°æ˜ Bean å¯¹è±¡ï¼Œå¹¶é…ç½®è¯¥å¯¹è±¡çš„å±æ€§æ³¨å…¥&#x3D;&#x3D;<br>Spring æä¾›äº†äº”ç§ä¸»è¦çš„è‡ªåŠ¨è£…é…æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼åŒ…æ‹¬ï¼š<code>no</code>ï¼ˆé»˜è®¤ï¼‰ã€<code>byName</code>ã€<code>byType</code>ã€<code>constructor</code>ã€<code>autodetect</code>ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>	<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;foo&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.Foo&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;autodetect&quot;</span>/&gt;</span><br>	<br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ol>
<li><p><font color="#00b0f0">noï¼ˆé»˜è®¤ï¼‰</font><br>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring ä¸ä¼šè¿›è¡Œè‡ªåŠ¨è£…é…ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ³¨å…¥ä¾èµ–ï¼Œä¾‹å¦‚é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥æˆ– Setter æ³¨å…¥</p>
</li>
<li><p><font color="#00b0f0">byName</font><br>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒSpring ä¼šæŸ¥æ‰¾ç³»ç»Ÿä¸­ä¸<strong>å±æ€§åç›¸åŒ</strong>çš„ç»„ä»¶ï¼Œè‡ªåŠ¨è¿›è¡Œæ³¨å…¥ã€‚è¿™ç§æ–¹å¼åŸºäº Setter æ³¨å…¥ï¼Œæ‰€ä»¥è¦ä¸ºå±æ€§æä¾› Setter æ–¹æ³•</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Bar</span> bar;  <span class="hljs-comment">// çœ‹ bar</span><br><br>    <span class="hljs-comment">// Setter</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setBar</span>(<span class="hljs-params"><span class="hljs-title class_">Bar</span> bar</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">bar</span> = bar;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><font color="#00b0f0">byType</font><br>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒSpring ä¼šæŸ¥æ‰¾ç³»ç»Ÿä¸­ä¸å±æ€§<strong>ç±»å‹ç›¸åŒ</strong>çš„ç»„ä»¶ï¼Œè‡ªåŠ¨è¿›è¡Œæ³¨å…¥ã€‚è¿™ç§æ–¹å¼åŸºäº Setter æ³¨å…¥ï¼Œæ‰€ä»¥è¦ä¸ºå±æ€§æä¾› Setter æ–¹æ³•</p>
</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Bar</span> bar;  <span class="hljs-comment">// çœ‹ Bar</span><br><br>    <span class="hljs-comment">// Setter</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setBar</span>(<span class="hljs-params"><span class="hljs-title class_">Bar</span> bar</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">bar</span> = bar;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>[!NOTE] æ³¨æ„ï¼š</p>
<ol>
<li>å¦‚æœç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªå±æ€§ç±»å‹åŒ¹é…çš„ç»„ä»¶ï¼ŒSpring ä¼šæ— æ³•å†³å®šæ³¨å…¥é‚£ä¸ªç»„ä»¶ï¼Œå°±ä¼šæŠ›å‡º <code>NoUniqueBeanDefinitonException</code> å¼‚å¸¸ã€‚</li>
<li>é€šè¿‡æ ‡è®°ä¸»è¦å€™é€‰è€…å¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼Œä¾‹å¦‚ï¼š<br><code>&lt;bean id=&quot;primaryBar&quot; class=&quot;com.example.Bar&quot; primary=&quot;true&quot;/&gt;</code> æˆ–åœ¨ Bean ç±»ä¸Šä½¿ç”¨ <code>@Primary</code> æ³¨è§£ã€‚</li>
</ol>
</blockquote>
<ol start="4">
<li><font color="#00b0f0">constructor</font><br>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒSpring ä¼šè‡ªåŠ¨æŸ¥æ‰¾ç³»ç»Ÿä¸­ä¸æ„é€ å‡½æ•°å‚æ•°<strong>ç±»å‹åŒ¹é…</strong>çš„ç»„ä»¶ï¼Œè‡ªåŠ¨è¿›è¡Œæ³¨å…¥ã€‚è¿™ç§æ–¹å¼åŸºäºæ„é€ æ–¹æ³•æ³¨å…¥ï¼Œæ‰€ä»¥è¦ä¸ºå±æ€§æä¾›æ„é€ æ–¹æ³•<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> &#123;<br>    <span class="hljs-keyword">private</span> Bar bar;<br><br>    <span class="hljs-comment">// æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> Foo(Bar bar) &#123; <span class="hljs-comment">// çœ‹è¿™é‡Œçš„ Bar</span><br>        <span class="hljs-keyword">this</span>.bar = bar;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>[!NOTE] æ³¨æ„<br>å¦‚æœæœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼ŒSpring ä¼šé€‰æ‹©å‚æ•°æœ€å¤šçš„é‚£ä¸ªï¼ˆå‰ææ˜¯æ‰€æœ‰å‚æ•°ç±»å‹éƒ½èƒ½åœ¨å®¹å™¨ä¸­æ‰¾åˆ°å¯¹åº”çš„ beanï¼‰ã€‚</p>
</blockquote>
<ol start="5">
<li><font color="#00b0f0">autodetect</font><br>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒSpring ä¼šé¦–å…ˆå°è¯•é€šè¿‡ constructor æ–¹å¼è¿›è¡Œæ³¨å…¥ï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™ä½¿ç”¨ byType æ–¹å¼ã€‚è¿™ç§æ–¹å¼åŸºäº Setter æ³¨å…¥å’Œ æ„é€ æ³¨å…¥ï¼Œæ‰€ä»¥æ—¢è¦ä¸ºå±æ€§æä¾› Setter æ–¹æ³•åˆè¦ä¸ºå±æ€§æä¾›æ„é€ æ–¹æ³•<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> &#123;<br>    <span class="hljs-keyword">private</span> Bar bar;<br><br>    <span class="hljs-comment">// æ„é€ æ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Foo</span>()</span> &#123;<br>        <span class="hljs-comment">// Default constructor</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Foo</span>(<span class="hljs-params">Bar bar</span>)</span> &#123;<br>        <span class="hljs-keyword">this</span>.bar = bar;<br>    &#125;<br>	<br>    <span class="hljs-comment">// Setter</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setBar</span>(<span class="hljs-params">Bar bar</span>)</span> &#123;<br>        <span class="hljs-keyword">this</span>.bar = bar;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<hr>
<h5 id="1-4-3ã€é…ç½®æ–¹å¼2ï¼šæ³¨è§£-æ‰«æ-é…ç½®æ–¹å¼"><a href="#1-4-3ã€é…ç½®æ–¹å¼2ï¼šæ³¨è§£-æ‰«æ-é…ç½®æ–¹å¼" class="headerlink" title="1.4.3ã€é…ç½®æ–¹å¼2ï¼šæ³¨è§£ + æ‰«æ é…ç½®æ–¹å¼"></a>1.4.3ã€é…ç½®æ–¹å¼2ï¼šæ³¨è§£ + æ‰«æ é…ç½®æ–¹å¼</h5><h6 id="1-4-3-1ã€å£°æ˜-Bean-å¯¹è±¡"><a href="#1-4-3-1ã€å£°æ˜-Bean-å¯¹è±¡" class="headerlink" title="1.4.3.1ã€å£°æ˜ Bean å¯¹è±¡"></a>1.4.3.1ã€å£°æ˜ Bean å¯¹è±¡</h6><p>åœ¨ç±»ä¸Šæ ‡æ³¨ <code>@Component</code> åŠå…¶è¡ç”Ÿæ³¨è§£ï¼ˆå¦‚ <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code>ï¼‰ï¼Œä»¥æŒ‡ç¤ºè¯¥ç±»æ˜¯ä¸€ä¸ª Beanç±»å¹¶å£°æ˜å”¯ä¸€ä¸ªBean å¯¹è±¡ã€‚</p>
<ul>
<li><code>@Component</code>ï¼šæ ‡æ³¨é€šç”¨ç»„ä»¶</li>
<li><code>@Service</code>ï¼šæ ‡æ³¨ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆservice å±‚ï¼‰</li>
<li><code>@Repository</code>ï¼šæ ‡æ³¨æ•°æ®è®¿é—®å±‚ï¼ˆdao å±‚ã€mapper å±‚ï¼‰</li>
<li><code>@Controller</code>ï¼šæ ‡æ³¨è¡¨ç°å±‚ï¼ˆWeb å±‚ï¼‰</li>
<li><code>@RestController</code>ï¼š<code>@RestController</code> &#x3D; <code>@Controller</code> + <code>@ResponseBody</code> ï¼Œä½¿å¾—æ¯ä¸ªæ–¹æ³•çš„è¿”å›å€¼éƒ½ç›´æ¥ä½œä¸º HTTP å“åº”ä½“è¿”å›ã€‚<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@Component</span>(<span class="hljs-string">&quot;myBean1&quot;</span>) <span class="hljs-comment">// å¿…å¡«é¡¹ï¼Œæ ‡æ³¨ Bean ç±»å’ŒæŒ‡å®š IDï¼Œè‹¥æœªæŒ‡å®š IDï¼Œé»˜è®¤ä¸ºç±»åçš„é¦–å­—æ¯å°å†™å½¢å¼ï¼ˆä¸æ˜¯å…¨ç±»åï¼‰</span><br><span class="hljs-variable">@Scope</span>(<span class="hljs-string">&quot;prototype&quot;</span>)   <span class="hljs-comment">// æŒ‡å®šä½œç”¨åŸŸï¼Œé»˜è®¤ä¸ºå•ä¾‹(singleton)</span><br><span class="hljs-variable">@Lazy</span>                 <span class="hljs-comment">// å»¶è¿ŸåŠ è½½ï¼Œé»˜è®¤ä¸å¼€å¯ï¼Œè®¾ç½®ä¸º true åˆ™ä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶åˆ›å»º Bean</span><br><span class="hljs-variable">@DependsOn</span>(<span class="hljs-string">&quot;myBean2&quot;</span>) <span class="hljs-comment">// æŒ‡å®šä¾èµ–çš„å…¶ä»– Beanï¼Œç¡®ä¿ myBean2 åˆå§‹åŒ–å®Œæˆåå†å®ä¾‹åŒ–å½“å‰ Bean</span><br><span class="hljs-variable">@Primary</span>              <span class="hljs-comment">// æ ¹æ®ç±»å‹è£…é…æ—¶ï¼Œè‹¥æœ‰å¤šä¸ªå®ç°ï¼Œè¯¥ Bean ä¸ºä¸»è¦å€™é€‰è€…</span><br>public class MyBean &#123;<br><br>    <span class="hljs-comment">// @PostConstructï¼šåˆå§‹åŒ–æ–¹æ³•ï¼Œä¾èµ–æ³¨å…¥å®Œæˆåè‡ªåŠ¨è°ƒç”¨</span><br>    <span class="hljs-variable">@PostConstruct</span><br>    public void <span class="hljs-built_in">initMethod</span>() &#123;<br>        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">&quot;MyBean initialized with all dependencies.&quot;</span>);<br>        <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ”¾ç½®èµ„æºåˆå§‹åŒ–é€»è¾‘</span><br>    &#125;<br><br>    <span class="hljs-comment">// @PreDestroyï¼šé”€æ¯æ–¹æ³•ï¼Œåœ¨ Bean è¢«å®¹å™¨é”€æ¯å‰è°ƒç”¨</span><br>    @<span class="hljs-selector-tag">PreDestroy</span><br>    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">cleanup</span>() &#123;<br>        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">&quot;MyBean is being destroyed. Cleaning up resources.&quot;</span>);<br>        <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œæ¸…ç†æ“ä½œ</span><br>    &#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<hr>
<h6 id="1-4-3-2ã€é…ç½®å±æ€§æ³¨å…¥"><a href="#1-4-3-2ã€é…ç½®å±æ€§æ³¨å…¥" class="headerlink" title="1.4.3.2ã€é…ç½®å±æ€§æ³¨å…¥"></a>1.4.3.2ã€é…ç½®å±æ€§æ³¨å…¥</h6><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBean</span> &#123;<br><br>    <span class="hljs-comment">// @Autowiredï¼šå®ç°æŒ‰ç±»å‹è‡ªåŠ¨è£…é…ï¼ˆbyTypeï¼‰</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> MyRepository myRepository;<br>    <br>    <span class="hljs-comment">// @Autowired + @Qualifierï¼šå®ç°æŒ‰åç§°è‡ªåŠ¨è£…é…ï¼ˆbyNameï¼‰</span><br>	<span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(<span class="hljs-string">&quot;specificRepository&quot;</span>)</span> <span class="hljs-comment">// æŒ‡å®šæ³¨å…¥åç§°</span><br>    <span class="hljs-keyword">private</span> MyRepository specificRepository;<br>    <br>    <span class="hljs-comment">// @Resourceï¼šå…ˆæŒ‰åç§°è£…é…ï¼ˆbyNameï¼‰ï¼Œå†æŒ‰ç±»å‹è£…é…ï¼ˆbyTypeï¼‰</span><br>	<span class="hljs-meta">@Resource(name = <span class="hljs-string">&quot;specificService&quot;</span>)</span> <br>    <span class="hljs-keyword">private</span> MyService myService;<br>    <br>    <span class="hljs-comment">// 1. å¯¹è±¡ç±»å‹</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Object userDao;<br>    <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Object bankDao;<br>    <br>    <span class="hljs-comment">// 2. ç®€å•æ•°ç»„</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;ages&#125;</span>&quot;</span>)</span><br>    <span class="hljs-keyword">private</span> int[] ages; <span class="hljs-comment">// ä¸€ç»´æ•°ç»„</span><br><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;ages2D&#125;</span>&quot;</span>)</span><br>    <span class="hljs-keyword">private</span> int[][] ages2D; <span class="hljs-comment">// äºŒç»´æ•°ç»„</span><br>    <br>    <span class="hljs-comment">// 3. å¤æ‚æ•°ç»„</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Object[] womens; <span class="hljs-comment">// ä¸€ç»´æ•°ç»„</span><br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;womens2D&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> Object[][] womens2D;  <span class="hljs-comment">// äºŒç»´æ•°ç»„</span><br>    <br>    <span class="hljs-comment">// 4. ç®€å• List é›†åˆ</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;ageList&#125;</span>&quot;</span>)</span><br>    <span class="hljs-keyword">private</span> List&lt;Integer&gt; ageList;<br>    <br>    <span class="hljs-comment">// 5. å¤æ‚ List é›†åˆ</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> List&lt;Object&gt; womenList; <br>    <br>    <span class="hljs-comment">// 6. ç®€å• Set é›†åˆ</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;ageSet&#125;</span>&quot;</span>)</span><br>    <span class="hljs-keyword">private</span> Set&lt;Integer&gt; ageSet; <br>    <br>    <span class="hljs-comment">// 7. å¤æ‚ Set é›†åˆ</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Set&lt;ComplexObject&gt; womenSet; <br>    <br>	<span class="hljs-comment">// 8. ç®€å• Map é›†åˆ</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;ageMap&#125;</span>&quot;</span>)</span><br>    <span class="hljs-keyword">private</span> Map&lt;String, Integer&gt; ageMap; <br>    <br>    <span class="hljs-comment">// 9. å¤æ‚ Map é›†åˆ</span><br>	<span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;phones&#125;</span>&quot;</span>)</span><br>    <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; phones; <br>    <br>	<span class="hljs-comment">// 10. ç®€å•æ•°æ®ç±»å‹</span><br>    <br>    <span class="hljs-comment">// 10.1 åŸºæœ¬æ•°æ®ç±»å‹</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;age&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> int age;  <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;isActive&#125;</span>&quot;</span>)</span> <br>    <span class="hljs-keyword">private</span> boolean isActive; <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;balance&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> double balance;  <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;grade&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> char grade; <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;id&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> long id;  <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;weight&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> float weight; <br>    <br>    <span class="hljs-comment">// 10.2 åŒ…è£…ç±»å‹</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;ageWrapper&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> Integer ageWrapper;  <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;isActiveWrapper&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Boolean</span> isActiveWrapper;  <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;balanceWrapper&#125;</span>&quot;</span>)</span> <br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Double</span> balanceWrapper; <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;gradeWrapper&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> Character gradeWrapper;  <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;idWrapper&#125;</span>&quot;</span>)</span> <br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> idWrapper; <br>    <br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;weightWrapper&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Float</span> weightWrapper; <br>    <br>    <span class="hljs-comment">// 10.3 å­—ç¬¦ä¸²ç±»å‹</span><br>    <span class="hljs-meta">@Value(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;name&#125;</span>&quot;</span>)</span>  <br>    <span class="hljs-keyword">private</span> String name;  <br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h6 id="1-4-3-3ã€é…ç½®å¤–éƒ¨-properties-æ–‡ä»¶"><a href="#1-4-3-3ã€é…ç½®å¤–éƒ¨-properties-æ–‡ä»¶" class="headerlink" title="1.4.3.3ã€é…ç½®å¤–éƒ¨ properties æ–‡ä»¶"></a>1.4.3.3ã€é…ç½®å¤–éƒ¨ properties æ–‡ä»¶</h6><p>å¦‚æœéœ€è¦ä¸ºåŸºæœ¬æ•°æ®ç±»å‹åŠå…¶é›†åˆè¿›è¡Œæ³¨å…¥ï¼Œé€šå¸¸ä¼šé€šè¿‡é…ç½®å¤–éƒ¨ <code>properties</code> æ–‡ä»¶ï¼Œå¹¶å°†ç›¸åº”çš„å±æ€§å€¼å†™å…¥è¯¥æ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># 1. å¯¹è±¡ç±»å‹</span><br><span class="hljs-attr">userDao</span>=com.example.UserDao<br><span class="hljs-attr">bankDao</span>=com.example.BankDao<br><br><span class="hljs-comment"># 2. ç®€å•æ•°ç»„</span><br><span class="hljs-attr">ages</span>=<span class="hljs-number">25</span>,<span class="hljs-number">30</span>,<span class="hljs-number">35</span> <br><span class="hljs-attr">ages2D</span>=<span class="hljs-number">25</span>,<span class="hljs-number">30</span>|<span class="hljs-number">35</span>,<span class="hljs-number">40</span> //&#123;<span class="hljs-number">25</span>,<span class="hljs-number">30</span>&#125; &#123;<span class="hljs-number">35</span>,<span class="hljs-number">40</span>&#125;<br><br><span class="hljs-comment"># 3. å¤æ‚æ•°ç»„</span><br><span class="hljs-attr">womens</span>=Jane,Alice,Mary,Emily<br><span class="hljs-attr">womens2D</span>=Jane,Alice|Mary,Emily<br><br><span class="hljs-comment"># 4. ç®€å• List é›†åˆ</span><br><span class="hljs-attr">ageList</span>=<span class="hljs-number">25</span>,<span class="hljs-number">30</span>,<span class="hljs-number">35</span><br><br><span class="hljs-comment"># 5. å¤æ‚ List é›†åˆ</span><br><span class="hljs-attr">womenList</span>=Jane,Alice,Mary,Emily<br><br><span class="hljs-comment"># 6. ç®€å• Set é›†åˆ</span><br><span class="hljs-attr">ageSet</span>=<span class="hljs-number">25</span>,<span class="hljs-number">30</span>,<span class="hljs-number">35</span><br><br><span class="hljs-comment"># 7. å¤æ‚ Set é›†åˆ</span><br><span class="hljs-attr">womenSet</span>=Jane,Alice,Mary,Emily<br><br><span class="hljs-comment"># 8. ç®€å• Map é›†åˆ</span><br><span class="hljs-attr">ageMap</span>=age1:<span class="hljs-number">25</span>,age2:<span class="hljs-number">30</span>,age3:<span class="hljs-number">35</span><br><br><span class="hljs-comment"># 9. å¤æ‚ Map é›†åˆ</span><br><span class="hljs-attr">phones</span>=home:<span class="hljs-number">1234567890</span>,<span class="hljs-literal">off</span>ice:<span class="hljs-number">0987654321</span><br><br><span class="hljs-comment"># 10. ç®€å•æ•°æ®ç±»å‹</span><br><br><span class="hljs-comment">#10.1 åŸºæœ¬æ•°æ®ç±»å‹</span><br><span class="hljs-attr">age</span>=<span class="hljs-number">25</span><br><span class="hljs-attr">isActive</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">balance</span>=<span class="hljs-number">99.99</span><br><span class="hljs-attr">grade</span>=A<br><span class="hljs-attr">id</span>=<span class="hljs-number">12345</span><br><span class="hljs-attr">weight</span>=<span class="hljs-number">70.5</span><br><br><span class="hljs-comment"># 10.2 åŒ…è£…ç±»å‹</span><br><span class="hljs-attr">ageWrapper</span>=<span class="hljs-number">30</span><br><span class="hljs-attr">isActiveWrapper</span>=<span class="hljs-literal">false</span><br><span class="hljs-attr">balanceWrapper</span>=<span class="hljs-number">200.75</span><br><span class="hljs-attr">gradeWrapper</span>=B<br><span class="hljs-attr">idWrapper</span>=<span class="hljs-number">67890</span><br><span class="hljs-attr">weightWrapper</span>=<span class="hljs-number">80.5</span><br><br><span class="hljs-comment"># 10.3 å­—ç¬¦ä¸²ç±»å‹</span><br><span class="hljs-attr">name</span>=John Doe<br></code></pre></td></tr></table></figure>

<hr>
<h6 id="1-4-3-4ã€æ‰«æ-Bean-å¯¹è±¡-åŠ è½½å¤–éƒ¨-properties-æ–‡ä»¶"><a href="#1-4-3-4ã€æ‰«æ-Bean-å¯¹è±¡-åŠ è½½å¤–éƒ¨-properties-æ–‡ä»¶" class="headerlink" title="1.4.3.4ã€æ‰«æ Bean å¯¹è±¡ + åŠ è½½å¤–éƒ¨ properties æ–‡ä»¶"></a>1.4.3.4ã€æ‰«æ Bean å¯¹è±¡ + åŠ è½½å¤–éƒ¨ properties æ–‡ä»¶</h6><p>&#x3D;&#x3D;1.XML é…ç½®æ–‡ä»¶ æ‰«ææ–¹å¼&#x3D;&#x3D;</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">	<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">	<span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">	http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br>	<br>	<span class="hljs-comment">&lt;!-- åŠ è½½å¤–éƒ¨ properties æ–‡ä»¶ --&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:application.properties,classpath:myconfig-config.properties&quot;</span> /&gt;</span><br>	<br>	<span class="hljs-comment">&lt;!-- æ‰«æåŒ… --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.example&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;2.é…ç½®ç±» æ‰«ææ–¹å¼&#x3D;&#x3D;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs j">@Configuration<br>@ComponentScan(basePackages = &quot;com.example&quot;) // æ‰«æåŒ…<br>@PropertySource(&#123;&quot;classpath:application.properties&quot;, &quot;classpath:myconfig.properties&quot;&#125;) // åŠ è½½å¤–éƒ¨ properties æ–‡ä»¶<br>public class ApplicationContextConfig &#123;<br>	......<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>[!NOTE] æ³¨æ„äº‹é¡¹ï¼šå…³äº properties æ–‡ä»¶</p>
<ol>
<li>å¦‚æœæœ‰å¤šä¸ª <code>properties</code> æ–‡ä»¶ï¼Œè¦ç¡®ä¿æ–‡ä»¶åŠ è½½çš„é¡ºåºï¼Œå› ä¸º Spring ä¼šæŒ‰é¡ºåºåŠ è½½æ–‡ä»¶ï¼ŒååŠ è½½çš„æ–‡ä»¶ä¼šè¦†ç›–å‰é¢æ–‡ä»¶ä¸­ç›¸åŒçš„å±æ€§å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>application.properties</code> æ–‡ä»¶ä¸­çš„æŸä¸ªé…ç½®å€¼å¦‚æœåœ¨ <code>myconfig.properties</code> ä¸­è¢«é‡æ–°å®šä¹‰ï¼Œåè€…çš„å€¼ä¼šè¦†ç›–å‰è€…ã€‚</li>
</ol>
</blockquote>
<hr>
<h5 id="1-4-4ã€é…ç½®æ–¹å¼3ï¼šé…ç½®ç±»-æ³¨è§£-æ‰«æ-é…ç½®æ–¹å¼"><a href="#1-4-4ã€é…ç½®æ–¹å¼3ï¼šé…ç½®ç±»-æ³¨è§£-æ‰«æ-é…ç½®æ–¹å¼" class="headerlink" title="1.4.4ã€é…ç½®æ–¹å¼3ï¼šé…ç½®ç±» +æ³¨è§£ + æ‰«æ é…ç½®æ–¹å¼"></a>1.4.4ã€é…ç½®æ–¹å¼3ï¼šé…ç½®ç±» +æ³¨è§£ + æ‰«æ é…ç½®æ–¹å¼</h5><h6 id="1-4-4-1ã€åˆ›å»º-Spring-IOC-é…ç½®ç±»"><a href="#1-4-4-1ã€åˆ›å»º-Spring-IOC-é…ç½®ç±»" class="headerlink" title="1.4.4.1ã€åˆ›å»º Spring IOC é…ç½®ç±»"></a>1.4.4.1ã€åˆ›å»º Spring IOC é…ç½®ç±»</h6><p>åˆ›å»ºé…ç½®ç±» <code>ApplicationContextConfig</code>ï¼Œå¹¶ä½¿ç”¨ <code>@Configuration</code> æ ‡æ³¨æ­¤ç±»ä¸ºä¸€ä¸ªé…ç½®ç±»ã€‚</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs perl">// ApplicationContextConfig.java<br><br><span class="hljs-variable">@Configuration</span> // è¡¨åè¿™æ˜¯ä¸ªé…ç½®ç±»<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApplicationContextConfig</span> </span>&#123;<br>	......<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h6 id="1-4-4-2ã€å£°æ˜-Bean-å¯¹è±¡ï¼Œå¹¶é…ç½®å±æ€§æ³¨å…¥-ç»„ä»¶æ‰«æ"><a href="#1-4-4-2ã€å£°æ˜-Bean-å¯¹è±¡ï¼Œå¹¶é…ç½®å±æ€§æ³¨å…¥-ç»„ä»¶æ‰«æ" class="headerlink" title="1.4.4.2ã€å£°æ˜ Bean å¯¹è±¡ï¼Œå¹¶é…ç½®å±æ€§æ³¨å…¥ + ç»„ä»¶æ‰«æ"></a>1.4.4.2ã€å£°æ˜ Bean å¯¹è±¡ï¼Œå¹¶é…ç½®å±æ€§æ³¨å…¥ + ç»„ä»¶æ‰«æ</h6><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@Configuration</span> <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApplicationContextConfig</span> &#123;<br><br>	<span class="hljs-meta">@Bean</span>ï¼ˆ                 <span class="hljs-comment">// å¿…å¡«é¡¹ï¼Œè¡¨ç¤ºè¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ª Bean</span><br>    name=<span class="hljs-string">&quot;myService&quot;</span>,       <span class="hljs-comment">// æŒ‡å®š Bean çš„idï¼Œå¯çœç•¥ï¼Œé»˜è®¤é¦–å­—æ¯å°å†™</span><br>    initMehtod=<span class="hljs-string">&quot;init&quot;</span>,      <span class="hljs-comment">// åˆå§‹åŒ–æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨ä¾èµ–æ³¨å…¥å®Œæˆåè‡ªåŠ¨è°ƒç”¨</span><br>    destoryMethod=<span class="hljs-string">&quot;cleanup&quot;</span> <span class="hljs-comment">// é”€æ¯æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šé”€æ¯ Bean ä¹‹å‰è‡ªåŠ¨è°ƒç”¨</span><br>    ï¼‰<br>    <span class="hljs-meta">@ComponentScan</span>(basePackages = <span class="hljs-string">&quot;com.example&quot;</span>) <span class="hljs-comment">// æ‰«æåŒ…</span><br>	<span class="hljs-meta">@Lazy</span>                   <span class="hljs-comment">// æ‡’åŠ è½½ï¼Œé»˜è®¤ä¸å¼€å¯</span><br>    <span class="hljs-meta">@Scope</span>(<span class="hljs-string">&quot;prototype&quot;</span>)     <span class="hljs-comment">// æŒ‡å®šä½œç”¨åŸŸ</span><br>    <span class="hljs-meta">@DependsOn</span>(<span class="hljs-string">&quot;myRepository&quot;</span>) <span class="hljs-comment">// æŒ‡å®šåˆå§‹åŒ–é¡ºåºï¼Œåœ¨ myRepository ä¹‹åè¿›è¡Œå®ä¾‹åŒ–</span><br>    <span class="hljs-meta">@Primart</span>                <span class="hljs-comment">// æ ¹æ®ç±»å‹è£…é…æ—¶ï¼Œè‹¥æœ‰å¤šä¸ªå®ç°ï¼Œè¯¥ Bean ä¸ºä¸»è¦å€™é€‰è€…</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">MyService</span> <span class="hljs-title function_">myService</span>(<span class="hljs-params"></span>) &#123;<br>	    <span class="hljs-comment">// æ‰‹åŠ¨ä½¿ç”¨æ„é€ æ–¹æ³• new Bean å®ä¾‹</span><br>	    <span class="hljs-comment">// é…ç½®è¯¥å®ä¾‹çš„å±æ€§æ³¨å…¥</span><br>	    <span class="hljs-comment">// æœ€åè¿”å›è¯¥å®ä¾‹</span><br>    &#125;<br>    <br>	<span class="hljs-comment">// 1. å£°æ˜ Bean å¯¹è±¡</span><br>	<span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">QianDaYe</span> <span class="hljs-title function_">qianDaYe</span>(<span class="hljs-params"></span>) &#123;<br>	    <span class="hljs-comment">// 2. æ‰‹åŠ¨ä½¿ç”¨æ„é€ æ–¹æ³• new Bean å®ä¾‹</span><br>        <span class="hljs-title class_">QianDaYe</span> qianDaYe = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QianDaYe</span>();<br>        <span class="hljs-comment">// 3. é…ç½®è¯¥å®ä¾‹çš„å±æ€§æ³¨å…¥</span><br>        qianDaYe.<span class="hljs-title function_">setUserDao</span>(<span class="hljs-title function_">userDao</span>());<br>        qianDaYe.<span class="hljs-title function_">setBankDao</span>(<span class="hljs-title function_">bankDao</span>());<br>        qianDaYe.<span class="hljs-title function_">setWomens</span>(<span class="hljs-title function_">womens</span>());<br>        qianDaYe.<span class="hljs-title function_">setWomens2D</span>(<span class="hljs-title function_">womens2D</span>());<br>        qianDaYe.<span class="hljs-title function_">setWomenList</span>(<span class="hljs-title function_">womenList</span>());<br>        qianDaYe.<span class="hljs-title function_">setWomenSet</span>(<span class="hljs-title function_">womenSet</span>());<br>        qianDaYe.<span class="hljs-title function_">setPhones</span>(<span class="hljs-title function_">phones</span>());<br>        <span class="hljs-comment">// 4. æœ€åè¿”å›è¯¥å®ä¾‹</span><br>        <span class="hljs-keyword">return</span> qianDaYe;<br>    &#125;<br>    <br>    <span class="hljs-comment">// 2. å£°æ˜å¤æ‚æ•°ç»„ Bean</span><br>    <span class="hljs-comment">// 2.1 å£°æ˜å¤æ‚ä¸€ç»´æ•°ç»„ Bean</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span>[] <span class="hljs-title function_">womens</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]&#123;<br>	        <span class="hljs-title function_">bean1</span>(), <span class="hljs-title function_">bean2</span>(), <span class="hljs-title function_">bean3</span>()<br>        &#125;;<br>	&#125;<br>	<span class="hljs-comment">// 2.2 å£°æ˜å¤æ‚äºŒç»´æ•°ç»„ Bean</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span>[][] <span class="hljs-title function_">womens2D</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[][]&#123;<br>            &#123;<span class="hljs-title function_">bean1</span>(), <span class="hljs-title function_">bean2</span>()&#125;,<br>            &#123;<span class="hljs-title function_">bean3</span>(), <span class="hljs-title function_">bean4</span>()&#125;<br>        &#125;;<br>    &#125;<br><br>    <span class="hljs-comment">// 3. å£°æ˜å¤æ‚ List ç±»å‹ Bean</span><br>	<span class="hljs-meta">@Bean</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Object</span>&gt; <span class="hljs-title function_">womenList</span>(<span class="hljs-params"></span>) &#123;<br>	    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Object</span>&gt; womenList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(); <br>	    womenList.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">bean1</span>()); <br>	    womenList.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">bean2</span>());<br>	    womenList.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">bean3</span>());<br>	    <span class="hljs-keyword">return</span> womenList;<br>	&#125;<br><br>    <span class="hljs-comment">// 4. å£°æ˜å¤æ‚ Set ç±»å‹ Bean</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">Object</span>&gt; <span class="hljs-title function_">womenSet</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">Object</span>&gt; womenSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>        womenSet.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">bean1</span>());<br>        womenSet.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">bean2</span>());<br>        womenSet.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">bean3</span>());<br>        <span class="hljs-keyword">return</span> womenSet;<br>    &#125;<br><br>    <span class="hljs-comment">// 5. å£°æ˜å¤æ‚ Map ç±»å‹ Bean</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; <span class="hljs-title function_">phones</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; phones = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-comment">// è‹¥å€¼æ˜¯å¯¹è±¡</span><br>        phones.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;home&quot;</span>, <span class="hljs-title function_">anotherBean</span>());<br>        <span class="hljs-comment">// è‹¥å€¼æ˜¯ List é›†åˆ</span><br>        phones.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;work&quot;</span>, <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">asList</span>(<span class="hljs-string">&quot;Item1&quot;</span>, <span class="hljs-string">&quot;Item2&quot;</span>, <span class="hljs-string">&quot;Item3&quot;</span>));<br>        <span class="hljs-comment">// è‹¥å€¼æ˜¯ Set é›†åˆ</span><br>        phones.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;mobileSet&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;(<span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">asList</span>(<span class="hljs-string">&quot;Value1&quot;</span>, <span class="hljs-string">&quot;Value2&quot;</span>, <span class="hljs-string">&quot;Value3&quot;</span>)));<br>        <span class="hljs-keyword">return</span> phones;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<blockquote>
<p>[!NOTE] æ³¨æ„äº‹é¡¹</p>
<ol>
<li>åœ¨ä½¿ç”¨é…ç½®ç±»å£°æ˜ Bean æ—¶ï¼Œå¦‚æœéœ€è¦ä¼ å…¥å‚æ•°ï¼ŒSpring ä¼šæ ¹æ®ç±»å‹ï¼ˆbyTypeï¼‰è‡ªåŠ¨è¿›è¡Œæ³¨å…¥ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªå®ç°ï¼Œå®ƒä¼šé€‰æ‹©æ ‡è®°ä¸ºä¸»è¦å€™é€‰è€…çš„ Beanã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä¼šè‡ªåŠ¨æ³¨å…¥ <code>AuthenticationConfiguration</code> ç±»å‹çš„ Beanï¼š</li>
</ol>
</blockquote>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-meta">@Bean</span><br><span class="hljs-keyword">public</span> <span class="hljs-function">AuthenticationManager <span class="hljs-title">authenticationManager</span><span class="hljs-params">(AuthenticationConfiguration configuration)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">return</span> configuration.<span class="hljs-title">getAuthenticationManager</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h6 id="1-4-4-3ã€ç»„ä»¶ç±»ä¸­æ³¨å…¥è¿™äº›-Bean-å¯¹è±¡"><a href="#1-4-4-3ã€ç»„ä»¶ç±»ä¸­æ³¨å…¥è¿™äº›-Bean-å¯¹è±¡" class="headerlink" title="1.4.4.3ã€ç»„ä»¶ç±»ä¸­æ³¨å…¥è¿™äº› Bean å¯¹è±¡"></a>1.4.4.3ã€ç»„ä»¶ç±»ä¸­æ³¨å…¥è¿™äº› Bean å¯¹è±¡</h6><p>åœ¨ç»„ä»¶ç±»ä¸­å¯é€šè¿‡ <code>@Autowired</code>ã€<code>@Resource</code> æˆ– <code>@Qualifier</code> æ³¨è§£è‡ªåŠ¨è£…é…è¿™äº› Beanï¼Œå®ç°ä¾èµ–æ³¨å…¥ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">AuthenticationManager</span> authenticationManager; <span class="hljs-comment">// æ— éœ€å†æ¬¡ä¼ å‚</span><br>    <br>	<span class="hljs-comment">// ä½¿ç”¨æ³¨å…¥çš„ Bean è¿›è¡Œæ“ä½œ</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">authenticateUser</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;AuthenticationManager injected: &quot;</span> + authenticationManager);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="2ã€Boot-ç®€åŒ–å¼€å‘"><a href="#2ã€Boot-ç®€åŒ–å¼€å‘" class="headerlink" title="2ã€Boot ç®€åŒ–å¼€å‘"></a>2ã€Boot ç®€åŒ–å¼€å‘</h3><h4 id="2-1ã€è‡ªåŠ¨æ‰«æ-Bean-ç±»"><a href="#2-1ã€è‡ªåŠ¨æ‰«æ-Bean-ç±»" class="headerlink" title="2.1ã€è‡ªåŠ¨æ‰«æ Bean ç±»"></a>2.1ã€è‡ªåŠ¨æ‰«æ Bean ç±»</h4><p>åœ¨ <code>src/main/java/com/example</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>Application</code> çš„ä¸»ç±»ï¼Œå¹¶ä¸ºå…¶æ·»åŠ  <code>@SpringBootApplication</code> æ³¨è§£ã€‚è¿™ä¸ªæ³¨è§£æ ‡è¯†è¯¥ç±»ä¸º Spring Boot åº”ç”¨çš„å…¥å£ç‚¹ï¼ŒåŒæ—¶å®ƒè¿˜ä¼šè‡ªåŠ¨æ‰«æå½“å‰åŒ…åŠå…¶å­åŒ…ä¸­çš„ç»„ä»¶ï¼Œæ— éœ€åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰‹åŠ¨é…ç½®æ‰«æè·¯å¾„ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* <span class="hljs-doctag">@SpringBootApplication</span> æ˜¯ç»„åˆæ³¨è§£ï¼ŒåŒ…å«</span><br><span class="hljs-comment">*    1. <span class="hljs-doctag">@SpringBootConfigutation</span>ï¼šæ ‡è¯†ä¸ºé…ç½®ç±»</span><br><span class="hljs-comment">*    2. <span class="hljs-doctag">@EnableAutoConfiguration</span>ï¼šå¯ç”¨è‡ªåŠ¨é…ç½®</span><br><span class="hljs-comment">*    3. <span class="hljs-doctag">@ComponentScan</span>ï¼šæ‰«æå½“å‰åŒ…åŠå­åŒ…çš„ç»„ä»¶</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringBootDemoApplication</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-title class_">String</span>[] args</span>) &#123;<br>        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">SpringBootDemoApplication</span>.<span class="hljs-property">class</span>, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="2-2ã€å±æ€§ç»‘å®š"><a href="#2-2ã€å±æ€§ç»‘å®š" class="headerlink" title="2.2ã€å±æ€§ç»‘å®š"></a>2.2ã€å±æ€§ç»‘å®š</h4><p>åœ¨ Spring Boot ä¸­ï¼Œæ— éœ€åœ¨ä¸åŒæ–‡ä»¶ä¸­é‡å¤ä½¿ç”¨ <code>@Value</code> è¿›è¡Œæ³¨å…¥ã€‚Spring Boot æä¾›äº†å±æ€§ç»‘å®šåŠŸèƒ½ï¼Œå¯ä»¥å°†é…ç½®æ–‡ä»¶ï¼ˆ<code>application.properties</code> æˆ– <code>application.yaml</code>ï¼‰ä¸­çš„å±æ€§å€¼ä¸€é”®ç»‘å®šåˆ°ç»„ä»¶ç±»çš„å±æ€§ä¸Šï¼Œä»è€Œç®€åŒ–äº†é…ç½®å’Œæ³¨å…¥è¿‡ç¨‹ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p>
<p>&#x3D;&#x3D;1.ç»„ä»¶ç±»&#x3D;&#x3D;</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@Component</span>    <span class="hljs-comment">// æ³¨å…¥ç±»å£°æ˜ä¸ºç»„ä»¶æ˜¯å¿…é¡»çš„</span><br><span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">&quot;app&quot;</span>)    <span class="hljs-comment">// Boot å±æ€§ç»‘å®š</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppProperties</span> &#123;<br>	<span class="hljs-comment">// ç®€å•ç±»å‹</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;  <span class="hljs-comment">// ç®€å•ç±»å‹</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> emptyString;  <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> nullValue;  <span class="hljs-comment">// null å€¼</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> specialChar;  <span class="hljs-comment">// ç‰¹æ®Šå­—ç¬¦</span><br><br>	<span class="hljs-comment">// ç®€å•æ•°ç»„ </span><br>	<span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span>[] names;  <span class="hljs-comment">// ä¸€ç»´æ•°ç»„</span><br>	<span class="hljs-keyword">private</span> int[][] coordinates;  <span class="hljs-comment">// äºŒç»´æ•°ç»„</span><br><br>	<span class="hljs-comment">// ç®€å• List é›†åˆ</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; users;<br><br>	<span class="hljs-comment">// ç®€å• Set é›†åˆ</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">String</span>&gt; roles;<br><br>	<span class="hljs-comment">// ç®€å• Map é›†åˆ</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>,<span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt;&gt; mapp<br>&#125; <br></code></pre></td></tr></table></figure>


<p>&#x3D;&#x3D;2.é…ç½®æ–‡ä»¶ï¼šapplication.properties&#x3D;&#x3D;</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># ç®€å•ç±»å‹</span><br>app.<span class="hljs-attribute">name</span>=MyApplication<br><br><span class="hljs-comment"># ç©ºå­—ç¬¦ä¸²</span><br>app.emptyString=<br><br><span class="hljs-comment"># null å€¼</span><br>app.<span class="hljs-attribute">nullValue</span>=<span class="hljs-literal">null</span><br><br><span class="hljs-comment"># ç‰¹æ®Šå­—ç¬¦(ç›´æ¥å†™ç‰¹æ®Šå­—ç¬¦å°±å¥½)</span><br>app.<span class="hljs-attribute">specialChar</span>=2&lt;3<br><br><span class="hljs-comment"># ä¸€ç»´æ•°ç»„</span><br>app.<span class="hljs-attribute">names</span>=Alice,Bob,Charlie<br><br><span class="hljs-comment"># äºŒç»´æ•°ç»„</span><br>app.<span class="hljs-attribute">coordinates</span>=1,2;3,4;5,6<br><br><span class="hljs-comment"># ç®€å• List é›†åˆ</span><br>app.<span class="hljs-attribute">users</span>=Alice,Bob,Charlie<br><br><span class="hljs-comment"># ç®€å• Set é›†åˆ</span><br>app.<span class="hljs-attribute">roles</span>=admin,user,guest<br><br><span class="hljs-comment"># ç®€å• Map é›†åˆ</span><br>app.mapp.<span class="hljs-attribute">users</span>=Alice,Bob,Charlie   #<span class="hljs-built_in"> users </span>æ˜¯é”®ï¼Œåé¢çš„æ˜¯å€¼<br>app.mapp.<span class="hljs-attribute">roles</span>=admin,user,guest    # roles æ˜¯é”®ï¼Œåé¢çš„æ˜¯å€¼<br></code></pre></td></tr></table></figure>


<p>&#x3D;&#x3D;3.é…ç½®æ–‡ä»¶ï¼šapplication.yml&#x3D;&#x3D;</p>
<figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">app</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-attribute">name</span><span class="hljs-punctuation">:</span> <span class="hljs-string">MyApplication           # ç®€å•ç±»å‹</span><br>  <span class="hljs-attribute">emptyString</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;               # ç©ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attribute">nullValue</span><span class="hljs-punctuation">:</span> <span class="hljs-string">null               # null å€¼</span><br>  <span class="hljs-attribute">specialChar</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2&lt;3&quot;            # ç‰¹æ®Šå­—ç¬¦ï¼Œå»ºè®®ä½¿ç”¨å¼•å·</span><br><br>  <span class="hljs-attribute">names</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                       # ä¸€ç»´æ•°ç»„</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Alice</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Bob</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Charlie</span><br><br>  <span class="hljs-attribute">coordinates</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                 # äºŒç»´æ•°ç»„</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">- 1</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">2</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">- 3</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">4</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">- 5</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">6</span><br><br>  <span class="hljs-attribute">users</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                       # ç®€å• List é›†åˆ</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Alice</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Bob</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Charlie</span><br><br>  <span class="hljs-attribute">roles</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                       # ç®€å• Set é›†åˆ</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">admin</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">user</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">guest</span><br><br>  <span class="hljs-attribute">settings</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                    # ç®€å• Map é›†åˆï¼Œå€¼ä¸º List</span><br>    <span class="hljs-attribute">users</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                     # é”®ï¼šusersï¼Œå€¼ä¸ºæ•°ç»„</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">Alice</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">Bob</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">Charlie</span><br>    <span class="hljs-attribute">roles</span><span class="hljs-punctuation">:</span> <span class="hljs-string">                     # é”®ï¼šrolesï¼Œå€¼ä¸ºæ•°ç»„</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">admin</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">user</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">guest</span><br></code></pre></td></tr></table></figure>

<hr>
<h4 id="2-3ã€å”¯ä¸€æ„é€ æœºåˆ¶"><a href="#2-3ã€å”¯ä¸€æ„é€ æœºåˆ¶" class="headerlink" title="2.3ã€å”¯ä¸€æ„é€ æœºåˆ¶"></a>2.3ã€å”¯ä¸€æ„é€ æœºåˆ¶</h4><p>åœ¨ Spring Boot å¼€å‘ä¸­ï¼Œå¦‚æœ Bean ç±»åªæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œåˆ™æ— éœ€é¢å¤–ä½¿ç”¨ <code>@Autowired</code> ç­‰æ³¨è§£ï¼ŒSpring Boot ä¼šè‡ªåŠ¨æ ¹æ®æ„é€ å‡½æ•°ä¸­çš„å‚æ•°ç±»å‹ï¼ˆbyTypeï¼‰è¿›è¡Œè£…é…ï¼š</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyService</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MyRepository myRepository;<br><br>    <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ŒSpring ä¼šè‡ªåŠ¨æ ¹æ®å‚æ•°ç±»å‹æ³¨å…¥ MyRepository</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyService</span><span class="hljs-params">(MyRepository myRepository)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.myRepository = myRepository;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">performAction</span><span class="hljs-params">()</span> </span>&#123;<br>        myRepository.save();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/Spring-%E7%94%9F%E6%80%81/" class="category-chain-item">Spring ç”Ÿæ€</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/Spring-%E7%94%9F%E6%80%81/Spring-IOC/" class="category-chain-item">Spring IOC</a>
  
  

  

  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ç¬”è®°ï¼šSpring IOC</div>
      <div>https://wangjia5289.github.io/2025/03/10/ç¬”è®°ï¼šSpring IOC/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>éœ¸å¤©</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>March 10, 2025</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/03/10/%E7%AC%94%E8%AE%B0%EF%BC%9AHexo%20+%20Obsidian%20+Git%20Page/" title="ç¬”è®°ï¼šHexo + Obsidian +Git Page">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ç¬”è®°ï¼šHexo + Obsidian +Git Page</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  



  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  var relativeDate = function() {
    var updatedTime = document.getElementById('updated-time');
    if (updatedTime) {
      var text = updatedTime.textContent;
      var reg = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/;
      var matchs = text.match(reg);
      if (matchs) {
        var relativeTime = moment(matchs[0]).fromNow();
        updatedTime.textContent = text.replace(reg, relativeTime);
      }
      updatedTime.style.display = '';
    }
  };
  Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/moment.min.js', function() {
    if (!'en'.startsWith('en')) {
      Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/locale/en.min.js', function() {
        relativeDate();
      });
    } else {
      relativeDate();
    }
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"display":{"superSample":2,"width":200,"height":350,"position":"left","hOffset":40,"vOffset":-20},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":1,"opacityOnHover":0.5},"log":false});</script></body>
</html>
